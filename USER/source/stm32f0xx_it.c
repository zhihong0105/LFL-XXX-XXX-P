/**
  ******************************************************************************
  * @file    RCC/stm32f0xx_it.c 
  * @author  MCD Application Team
  * @version V1.0.0
  * @date    23-March-2012
  * @brief   Main Interrupt Service Routines.
  *          This file provides template for all exceptions handler and 
  *          peripherals interrupt service routine.
  ******************************************************************************
  * @attention
  *
  * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
  *
  * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  * You may not use this file except in compliance with the License.
  * You may obtain a copy of the License at:
  *
  *        http://www.st.com/software_license_agreement_liberty_v2
  *
  * Unless required by applicable law or agreed to in writing, software 
  * distributed under the License is distributed on an "AS IS" BASIS, 
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  *
  ******************************************************************************
  */ 

/* Includes ------------------------------------------------------------------*/
#include "main.h"
#include "stm32f0xx.h"
#include "stm32f0xx_it.h"
#include "System_Initialize.h"
#include "PidControl.h"

#ifndef TRIG
    #erorr "Please define TRIG!"
#elif  TRIG == 1
	#define   TRIG_TIME   1000
	void InitPiParm(void);
	static  unsigned short int fg_uiTrigTime = 0;
	static  unsigned char fg_ucTrig = 0;
    extern volatile unsigned char g_ucTrigCnt;
#endif
static  volatile unsigned char fg_ucRxTime = 0;
static  volatile unsigned char fg_ucRxData[8];
static  volatile unsigned char fg_ucRxCounter = 0;
unsigned short int g_uiAdcValue;
//输入电参数测量使用到的变量
static unsigned char fg_uc7759PowerState = 0;  //7759???????
static unsigned char fg_uc7759VIState = 0;  //7759???????
static unsigned short int fg_uiPowerTimeCnt = 0;
static unsigned short int fg_uiVITimeCnt = 0;
static unsigned short int fg_uiPowerCC4Cnt = 0,fg_uiVolCurCC3Cnt = 0;

extern unsigned char      fg_ucDimEn;
extern volatile unsigned short int g_uiTemp;
extern volatile unsigned char      g_ucMainCycle; 
extern volatile unsigned char      g_ucCSE7759Flag;
#ifndef GRT_V15
    #error "Please define GRT_V15!"
#elif   PROTOCOL == GRT_V15
	extern volatile unsigned long      g_ulRunTime;
	extern volatile unsigned char      g_ucRunTimeUpdata;
#endif
#if  PARM_REPAIR_EN == 1 && SEECRET_EN == 1
extern volatile unsigned short int g_uiDelayTime;
#endif
#ifndef MIN_FREQUENCY
  #error "Please define MIN_FREQUENCY!"
#elif MIN_FREQUENCY == 1
  const  unsigned short int uiFre[]={2400,2395,2390,2385,2380,2374,2369,2364,2359,2354,2349,2345,2340,2335,2330,2325,2320,2315,2311,2306,2301,2296,2292,2287,2282,2278,2273,2268,2264,2259,2255,2250,2246,2241,2237,2232,2228,2223,2219,2214,2210,2206,2201,2197,2193,2188,2184,2180,2176,2171,2167,2163,2159,2155,2150,2146,2142,2138,2134,2130,2126,2122,2118,2114,2110,2106,2102,2098,2094,2090,2086,2082,2078,2075,2071,2067,2063,2059,2055,2052,2048,2044,2040,2037,2033,2029,2026,2022,2018,2015,2011,2007,2004,2000,1997,1993,1989,1986,1982,1979,1975,1972,1968,1965,1962,1958,1955,1951,1948,1944,1941,1938,1934,1931,1928,1924,1921,1918,1914,1911,1908,1905,1901,1898,1895,1892,1889,1885,1882,1879,1876,1873,1870,1866,1863,1860,1857,1854,1851,1848,1845,1842,1839,1836,1833,1830,1827,1824,1821,1818,1815,1812,1809,1806,1803,1800,1797,1794,1792,1789,1786,1783,1780,1777,1774,1772,1769,1766,1763,1760,1758,1755,1752,1749,1747,1744,1741,1739,1736,1733,1730,1728,1725,1722,1720,1717,1715,1712,1709,1707,1704,1701,1699,1696,1694,1691,1689,1686,1684,1681,1678,1676,1673,1671,1668,1666,1663,1661,1659,1656,1654,1651,1649,1646,1644,1641,1639,1637,1634,1632,1629,1627,1625,1622,1620,1618,1615,1613,1611,1608,1606,1604,1601,1599,1597,1595,1592,1590,1588,1586,1583,1581,1579,1577,1574,1572,1570,1568,1566,1563,1561,1559,1557,1555,1552,1550,1548,1546,1544,1542,1540,1537,1535,1533,1531,1529,1527,1525,1523,1521,1519,1517,1515,1512,1510,1508,1506,1504,1502,1500,1498,1496,1494,1492,1490,1488,1486,1484,1482,1480,1478,1477,1475,1473,1471,1469,1467,1465,1463,1461,1459,1457,1455,1453,1452,1450,1448,1446,1444,1442,1440,1438,1437,1435,1433,1431,1429,1427,1426,1424,1422,1420,1418,1417,1415,1413,1411,1409,1408,1406,1404,1402,1401,1399,1397,1395,1394,1392,1390,1388,1387,1385,1383,1381,1380,1378,1376,1375,1373,1371,1370,1368,1366,1365,1363,1361,1360,1358,1356,1355,1353,1351,1350,1348,1346,1345,1343,1342,1340,1338,1337,1335,1334,1332,1330,1329,1327,1326,1324,1323,1321,1319,1318,1316,1315,1313,1312,1310,1309,1307,1306,1304,1303,1301,1300,1298,1296,1295,1293,1292,1290,1289,1288,1286,1285,1283,1282,1280,1279,1277,1276,1274,1273,1271,1270,1268,1267,1266,1264,1263,1261,1260,1258,1257,1256,1254,1253,1251,1250,1249,1247,1246,1244,1243,1242,1240,1239,1238,1236,1235,1233,1232,1231,1229,1228,1227,1225,1224,1223,1221,1220,1219,1217,1216,1215,1213,1212,1211,1209,1208,1207,1206,1204,1203,1202,1200,1199,1198,1196,1195,1194,1193,1191,1190,1189,1188,1186,1185,1184,1183,1181,1180,1179,1178,1176,1175,1174,1173,1171,1170,1169,1168,1166,1165,1164,1163,1162,1160,1159,1158,1157,1156,1154,1153,1152,1151,1150,1148,1147,1146,1145,1144,1143,1141,1140,1139,1138,1137,1136,1134,1133,1132,1131,1130,1129,1128,1126,1125,1124,1123,1122,1121,1120,1119,1117,1116,1115,1114,1113,1112,1111,1110,1109,1107,1106,1105,1104,1103,1102,1101,1100,1099,1098,1097,1096,1094,1093,1092,1091,1090,1089,1088,1087,1086,1085,1084,1083,1082,1081,1080,1079,1078,1076,1075,1074,1073,1072,1071,1070,1069,1068,1067,1066,1065,1064,1063,1062,1061,1060,1059,1058,1057,1056,1055,1054,1053,1052,1051,1050,1049,1048,1047,1046,1045,1044,1043,1042,1041,1040,1039,1038,1038,1037,1036,1035,1034,1033,1032,1031,1030,1029,1028,1027,1026,1025,1024,1023,1022,1021,1020,1019,1019,1018,1017,1016,1015,1014,1013,1012,1011,1010,1009,1008,1008,1007,1006,1005,1004,1003,1002,1001,1000,999,999,998,997,996,995,994,993,992,991,991,990,989,988,987,986,985,984,984,983,982,981,980,979,978,978,977,976,975,974,973,972,972,971,970,969,968,967,967,966,965,964,963,962,962,961,960,959,958,957,957,956,955,954,953,953,952,951,950,949,948,948,947,946,945,944,944,943,942,941,940,940,939,938,937,937,936,935,934,933,933,932,931,930,930,929,928,927,926,926,925,924,923,923,922,921,920,920,919,918,917,917,916,915,914,914,913,912,911,911,910,909,908,908,907,906,905,905,904,903,902,902,901,900,900,899,898,897,897,896,895,895,894,893,892,892,891,890,890,889,888,887,887,886,885,885,884,883,883,882,881,880,880,879,878,878,877,876,876,875,874,874,873,872,871,871,870,869,869,868,867,867,866,865,865,864,863,863,862,861,861,860,859,859,858,857,857,856,855,855,854,854,853,852,852,851,850,850,849,848,848,847,846,846,845,844,844,843,843,842,841,841,840,839,839,838,838,837,836,836,835,834,834,833,833,832,831,831,830,829,829,828,828,827,826,826,825,825,824,823,823,822,821,821,820,820,819,818,818,817,817,816,815,815,814,814,813,813,812,811,811,810,810,809,808,808,807,807,806,805,805,804,804,803,803,802,801,801,800,800,799,799,798,797,797,796,796,795,795,794,793,793,792,792,791,791,790,790,789,788,788,787,787,786,786,785,785,784,783,783,782,782,781,781,780,780,779,779,778,777,777,776,776,775,775,774,774,773,773,772,772,771,770,770,769,769,768,768,767,767,766,766,765,765,764,764,763,763,762,762,761,760,760,759,759,758,758,757,757,756,756,755,755,754,754,753,753,752,752,751,751,750,750,749,749,748,748,747,747,746,746,745,745,744,744,743,743,742,742,741,741,740,740,739,739,738,738,737,737,736,736,735,735,734,734,734,733,733,732,732,731,731,730,730,729,729,728,728,727,727,726,726,725,725,724,724,724,723,723,722,722,721,721,720,720,719,719,718,718,717,717,717,716,716,715,715,714,714,713,713,712,712,712,711,711,710,710,709,709,708,708,707,707,707,706,706,705,705,704,704,703,703,703,702,702,701,701,700,700,700,699,699,698,698,697,697,696,696,696,695,695,694,694,693,693,693,692,692,691,691,690,690,690,689,689,688,688,687,687,687,686,686,685,685,685,684,684,683,683,682,682,682,681,681,680,680,680,679,679,678,678,677,677,677,676,676,675,675,675,674,674,673,673,673,672,672,671,671,671,670,670,669,669,669,668,668,667,667,667,666,666,665,665,665,664,664,663,663,663,662,662,661,661,661,660,660,659,659,659,658,658,657,657,657,656,656,656,655,655,654,654,654,653,653,653,652,652,651,651,651,650,650,649,649,649,648,648,648,647,647,646,646,646,645,645,645,644,644,643,643,643,642,642,642,641,641,641,640,640,639,639,639,638,638,638,637,637,637,636,636,635,635,635,634,634,634,633,633,633,632,632,631,631,631,630,630,630,629,629,629,628,628,628,627,627,627,626,626,625,625,625,624,624,624,623,623,623,622,622,622,621,621,621,620,620,620,619,619,619,618,618,618,617,617,616,616,616,615,615,615,614,614,614,613,613,613,612,612,612,611,611,611,610,610,610,609,609,609,608,608,608,607,607,607,606,606,606,605,605,605,604,604,604,603,603,603,603,602,602,602,601,601,601,600,600,600,599,599,599,598,598,598,597,597,597,596,596,596,595,595,595,594,594,594,594,593,593,593,592,592,592,591,591,591,590,590,590,589,589,589,589,588,588,588,587,587,587,586,586,586,585,585,585,585,584,584,584,583,583,583,582,582,582,581,581,581,581,580,580,580,579,579,579,578,578,578,578,577,577,577,576,576,576,575,575,575,575,574,574,574,573,573,573,573,572,572,572,571,571,571,570,570,570,570,569,569,569,568,568,568,568,567,567,567,566,566,566,566,565,565,565,564,564,564,564,563,563,563,562,562,562,562,561,561,561,560,560,560,560,559,559,559,559,558,558,558,557,557,557,557,556,556,556,555,555,555,555,554,554,554,554,553,553,553,552,552,552,552,551,551,551,551,550,550,550,549,549,549,549,548,548,548,548,547,547,547,546,546,546,546,545,545,545,545,544,544,544,544,543,543,543,543,542,542,542,541,541,541,541,540,540,540,540,539,539,539,539,538,538,538,538,537,537,537,537,536,536,536,535,535,535,535,534,534,534,534,533,533,533,533,532,532,532,532,531,531,531,531,530,530,530,530,529,529,529,529,528,528,528,528,527,527,527,527,526,526,526,526,525,525,525,525,524,524,524,524,523,523,523,523,522,522,522,522,521,521,521,521,521,520,520,520,520,519,519,519,519,518,518,518,518,517,517,517,517,516,516,516,516,515,515,515,515,515,514,514,514,514,513,513,513,513,512,512,512,512,511,511,511,511,511,510,510,510,510,509,509,509,509,508,508,508,508,507,507,507,507,507,506,506,506,506,505,505,505,505,505,504,504,504,504,503,503,503,503,502,502,502,502,502,501,501,501,501,500,500,500,500,500,499,499,499,499,498,498,498,498,498,497,497,497,497,496,496,496,496,496,495,495,495,495,494,494,494,494,494,493,493,493,493,492,492,492,492,492,491,491,491,491,491,490,490,490,490,489,489,489,489,489,488,488,488,488,488,487,487,487,487,486,486,486,486,486,485,485,485,485,485,484,484,484,484,484,483,483,483,483,482,482,482,482,482,481,481,481,481,481,480,480,480,480,480,479,479,479,479,479,478,478,478,478,478,477,477,477,477,477,476,476,476,476,476,475,475,475,475,474,474,474,474,474,473,473,473,473,473,472,472,472,472,472,471,471,471,471,471,470,470,470,470,470,470,469,469,469,469,469,468,468,468,468,468,467,467,467,467,467,466,466,466,466,466,465,465,465,465,465,464,464,464,464,464,463,463,463,463,463,463,462,462,462,462,462,461,461,461,461,461,460,460,460,460,460,459,459,459,459,459,459,458,458,458,458,458,457,457,457,457,457,456,456,456,456,456,456,455,455,455,455,455,454,454,454,454,454,453,453,453,453,453,453,452,452,452,452,452,451,451,451,451,451,451,450,450,450,450,450,449,449,449,449,449,449,448,448,448,448,448,447,447,447,447,447,447,446,446,446,446,446,446,445,445,445,445,445,444,444,444,444,444,444,443,443,443,443,443,443,442,442,442,442,442,441,441,441,441,441,441,440,440,440,440,440,440,439,439,439,439,439,439,438,438,438,438,438,437,437,437,437,437,437,436,436,436,436,436,436,435,435,435,435,435,435,434,434,434,434,434,434,433,433,433,433,433,433,432,432,432,432,432,432,431,431,431,431,431,431,430,430,430,430,430,430,429,429,429,429,429,429,428,428,428,428,428,428,427,427,427,427,427,427,426,426,426,426,426,426,425,425,425,425,425,425,425,424,424,424,424,424,424,423,423,423,423,423,423,422,422,422,422,422,422,421,421,421,421,421,421,421,420,420,420,420,420,420,419,419,419,419,419,419,418,418,418,418,418,418,418,417,417,417,417,417,417,416,416,416,416,416,416,416,415,415,415,415,415,415,414,414,414,414,414,414,414,413,413,413,413,413,413,412,412,412,412,412,412,412,411,411,411,411,411,411,410,410,410,410,410,410,410,409,409,409,409,409,409,409,408,408,408,408,408,408,407,407,407,407,407,407,407,406,406,406,406,406,406,406,405,405,405,405,405,405,405,404,404,404,404,404,404,404,403,403,403,403,403,403,402,402,402,402,402,402,402,401,401,401,401,401,401,401,400,400,400,400,400,400,400,399,399,399,399,399,399,399,398,398,398,398,398,398,398,397,397,397,397,397,397,397,396,396,396,396,396,396,396,396,395,395,395,395,395,395,395,394,394,394,394,394,394,394,393,393,393,393,393,393,393,392,392,392,392,392,392,392,391,391,391,391,391,391,391,391,390,390,390,390,390,390,390,389,389,389,389,389,389,389,388,388,388,388,388,388,388,388,387,387,387,387,387,387,387,386,386,386,386,386,386,386,386,385,385,385,385,385,385,385,384,384,384,384,384,384,384,384,383,383,383,383,383,383,383,382,382,382,382,382,382,382,382,381,381,381,381,381,381,381,381,380,380,380,380,380,380,380,380,379,379,379,379,379,379,379,378,378,378,378,378,378,378,378,377,377,377,377,377,377,377,377,376,376,376,376,376,376,376,376,375,375,375,375,375,375,375,375,374,374,374,374,374,374,374,374,373,373,373,373,373,373,373,373,372,372,372,372,372,372,372,372,371,371,371,371,371,371,371,371,370,370,370,370,370,370,370,370,369,369,369,369,369,369,369,369,368,368,368,368,368,368,368,368,368,367,367,367,367,367,367,367,367,366,366,366,366,366,366,366,366,365,365,365,365,365,365,365,365,365,364,364,364,364,364,364,364,364,363,363,363,363,363,363,363,363,363,362,362,362,362,362,362,362,362,361,361,361,361,361,361,361,361,361,360,360,360,360,360,360,360,360,359,359,359,359,359,359,359,359,359,358,358,358,358,358,358,358,358,358,357,357,357,357,357,357,357,357,356,356,356,356,356,356,356,356,356,355,355,355,355,355,355,355,355,355,354,354,354,354,354,354,354,354,354,353,353,353,353,353,353,353,353,353,352,352,352,352,352,352,352,352,352,351,351,351,351,351,351,351,351,351,350,350,350,350,350,350,350,350,350,349,349,349,349,349,349,349,349,349,348,348,348,348,348,348,348,348,348,347,347,347,347,347,347,347,347,347,347,346,346,346,346,346,346,346,346,346,345,345,345,345,345,345,345,345,345,344,344,344,344,344,344,344,344,344,344,343,343,343,343,343,343,343,343,343,342,342,342,342,342,342,342,342,342,342,341,341,341,341,341,341,341,341,341,341,340,340,340,340,340,340,340,340,340,339,339,339,339,339,339,339,339,339,339,338,338,338,338,338,338,338,338,338,338,337,337,337,337,337,337,337,337,337,337,336,336,336,336,336,336,336,336,336,335,335,335,335,335,335,335,335,335,335,334,334,334,334,334,334,334,334,334,334,333,333,333,333,333,333,333,333,333,333,332,332,332,332,332,332,332,332,332,332,332,331,331,331,331,331,331,331,331,331,331,330,330,330,330,330,330,330,330,330,330,329,329,329,329,329,329,329,329,329,329,328,328,328,328,328,328,328,328,328,328,328,327,327,327,327,327,327,327,327,327,327,326,326,326,326,326,326,326,326,326,326,326,325,325,325,325,325,325,325,325,325,325,324,324,324,324,324,324,324,324,324,324,324,323,323,323,323,323,323,323,323,323,323,323,322,322,322,322,322,322,322,322,322,322,321,321,321,321,321,321,321,321,321,321,321,320,320,320,320,320,320,320,320,320,320,320,319,319,319,319,319,319,319,319,319,319,319,318,318,318,318,318,318,318,318,318,318,318,317,317,317,317,317,317,317,317,317,317,317,316,316,316,316,316,316,316,316,316,316,316,315,315,315,315,315,315,315,315,315,315,315,315,314,314,314,314,314,314,314,314,314,314,314,313,313,313,313,313,313,313,313,313,313,313,312,312,312,312,312,312,312,312,312,312,312,312,311,311,311,311,311,311,311,311,311,311,311,310,310,310,310,310,310,310,310,310,310,310,310,309,309,309,309,309,309,309,309,309,309,309,309,308,308,308,308,308,308,308,308,308,308,308,307,307,307,307,307,307,307,307,307,307,307,307,306,306,306,306,306,306,306,306,306,306,306,306,305,305,305,305,305,305,305,305,305,305,305,305,304,304,304,304,304,304,304,304,304,304,304,304,303,303,303,303,303,303,303,303,303,303,303,303,302,302,302,302,302,302,302,302,302,302,302,302,302,301,301,301,301,301,301,301,301,301,301,301,301,300,300,300,300,300,300,300,300,300,300,300,300,299,299,299,299,299,299,299,299,299,299,299,299,299,298,298,298,298,298,298,298,298,298,298,298,298,298,297,297,297,297,297,297,297,297,297,297,297,297,296,296,296,296,296,296,296,296,296,296,296,296,296,295,295,295,295,295,295,295,295,295,295,295,295,295,294,294,294,294,294,294,294,294,294,294,294,294,294,293,293,293,293,293,293,293,293,293,293,293,293,293,292,292,292,292,292,292,292,292,292,292,292,292,292,291,291,291,291,291,291,291,291,291,291,291,291,291,290,290,290,290,290,290,290,290,290,290,290,290,290,289,289,289,289,289,289,289,289,289,289,289,289,289,289,288,288,288,288,288,288,288,288,288,288,288,288,288,287,287,287,287,287,287,287,287,287,287,287,287,287,287,286,286,286,286,286,286,286,286,286,286,286,286,286,285,285,285,285,285,285,285,285,285,285,285,285,285,285,284,284,284,284,284,284,284,284,284,284,284,284,284,284,283,283,283,283,283,283,283,283,283,283,283,283,283,283,282,282,282,282,282,282,282,282,282,282,282,282,282,282,281,281,281,281,281,281,281,281,281,281,281,281,281,281,280,280,280,280,280,280,280,280,280,280,280,280,280,280,279,279,279,279,279,279,279,279,279,279,279,279,279,279,279,278,278,278,278,278,278,278,278,278,278,278,278,278,278,277,277,277,277,277,277,277,277,277,277,277,277,277,277,277,276,276,276,276,276,276,276,276,276,276,276,276,276,276,275,275,275,275,275,275,275,275,275,275,275,275,275,275,275,274,274,274,274,274,274,274,274,274,274,274,274,274,274,274,273,273,273,273,273,273,273,273,273,273,273,273,273,273,273,272,272,272,272,272,272,272,272,272,272,272,272,272,272,272,271,271,271,271,271,271,271,271,271,271,271,271,271,271,271,270,270,270,270,270,270,270,270,270,270,270,270,270,270,270,269,269,269,269,269,269,269,269,269,269,269,269,269,269,269,269,268,268,268,268,268,268,268,268,268,268,268,268,268,268,268,267,267,267,267,267,267,267,267,267,267,267,267,267,267,267,267,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266
};
#elif MIN_FREQUENCY == 2
 //最小频率 = 40kHz
 /* const  unsigned int uiFre[]={1200,1199,1197,1196,1195,1193,1192,1191,1190,1188,1187,1186,1184,1183,1182,1181,1179,1178,1177,1175,1174,1173,1172,1170,1169,1168,1167,1165,1164,1163,1162,1160,1159,1158,1157,1156,1154,1153,1152,1151,1149,1148,1147,1146,1145,1143,1142,1141,1140,1139,1138,1136,1135,1134,1133,1132,1130,1129,1128,1127,1126,1125,1123,1122,1121,1120,1119,1118,1117,1115,1114,1113,1112,1111,1110,1109,1108,1106,1105,1104,1103,1102,1101,1100,1099,1098,1096,1095,1094,1093,1092,1091,1090,1089,1088,1087,1086,1084,1083,1082,1081,1080,1079,1078,1077,1076,1075,1074,1073,1072,1071,1070,1069,1067,1066,1065,1064,1063,1062,1061,1060,1059,1058,1057,1056,1055,1054,1053,1052,1051,1050,1049,1048,1047,1046,1045,1044,1043,1042,1041,1040,1039,1038,1037,1036,1035,1034,1033,1032,1031,1030,1029,1028,1027,1026,1025,1024,1023,1023,1022,1021,1020,1019,1018,1017,1016,1015,1014,1013,1012,1011,1010,1009,1008,1007,1007,1006,1005,1004,1003,1002,1001,1000,999,998,997,996,995,995,994,993,992,991,990,989,988,987,986,986,985,984,983,982,981,980,979,979,978,977,976,975,974,973,972,972,971,970,969,968,967,966,966,965,964,963,962,961,960,960,959,958,957,956,955,955,954,953,952,951,950,950,949,948,947,946,945,945,944,943,942,941,941,940,939,938,937,937,936,935,934,933,933,932,931,930,929,929,928,927,926,925,925,924,923,922,922,921,920,919,918,918,917,916,915,915,914,913,912,912,911,910,909,909,908,907,906,906,905,904,903,903,902,901,900,900,899,898,897,897,896,895,894,894,893,892,891,891,890,889,889,888,887,886,886,885,884,884,883,882,881,881,880,879,879,878,877,876,876,875,874,874,873,872,872,871,870,869,869,868,867,867,866,865,865,864,863,863,862,861,861,860,859,859,858,857,857,856,855,855,854,853,853,852,851,851,850,849,849,848,847,847,846,845,845,844,843,843,842,841,841,840,839,839,838,837,837,836,836,835,834,834,833,832,832,831,830,830,829,829,828,827,827,826,825,825,824,824,823,822,822,821,820,820,819,819,818,817,817,816,816,815,814,814,813,813,812,811,811,810,810,809,808,808,807,807,806,805,805,804,804,803,802,802,801,801,800,799,799,798,798,797,797,796,795,795,794,794,793,793,792,791,791,790,790,789,789,788,787,787,786,786,785,785,784,783,783,782,782,781,781,780,780,779,778,778,777,777,776,776,775,775,774,773,773,772,772,771,771,770,770,769,769,768,767,767,766,766,765,765,764,764,763,763,762,762,761,761,760,759,759,758,758,757,757,756,756,755,755,754,754,753,753,752,752,751,751,750,750,749,749,748,748,747,746,746,745,745,744,744,743,743,742,742,741,741,740,740,739,739,738,738,737,737,736,736,735,735,734,734,733,733,732,732,731,731,731,730,730,729,729,728,728,727,727,726,726,725,725,724,724,723,723,722,722,721,721,720,720,719,719,718,718,718,717,717,716,716,715,715,714,714,713,713,712,712,711,711,711,710,710,709,709,708,708,707,707,706,706,705,705,705,704,704,703,703,702,702,701,701,701,700,700,699,699,698,698,697,697,697,696,696,695,695,694,694,693,693,693,692,692,691,691,690,690,689,689,689,688,688,687,687,686,686,686,685,685,684,684,683,683,683,682,682,681,681,680,680,680,679,679,678,678,677,677,677,676,676,675,675,675,674,674,673,673,672,672,672,671,671,670,670,670,669,669,668,668,668,667,667,666,666,666,665,665,664,664,663,663,663,662,662,661,661,661,660,660,659,659,659,658,658,658,657,657,656,656,656,655,655,654,654,654,653,653,652,652,652,651,651,650,650,650,649,649,649,648,648,647,647,647,646,646,645,645,645,644,644,644,643,643,642,642,642,641,641,641,640,640,639,639,639,638,638,638,637,637,636,636,636,635,635,635,634,634,633,633,633,632,632,632,631,631,631,630,630,629,629,629,628,628,628,627,627,627,626,626,626,625,625,624,624,624,623,623,623,622,622,622,621,621,621,620,620,619,619,619,618,618,618,617,617,617,616,616,616,615,615,615,614,614,614,613,613,613,612,612,611,611,611,610,610,610,609,609,609,608,608,608,607,607,607,606,606,606,605,605,605,604,604,604,603,603,603,602,602,602,601,601,601,600,600,600,599,599,599,598,598,598,597,597,597,596,596,596,595,595,595,595,594,594,594,593,593,593,592,592,592,591,591,591,590,590,590,589,589,589,588,588,588,587,587,587,587,586,586,586,585,585,585,584,584,584,583,583,583,582,582,582,582,581,581,581,580,580,580,579,579,579,578,578,578,578,577,577,577,576,576,576,575,575,575,575,574,574,574,573,573,573,572,572,572,572,571,571,571,570,570,570,569,569,569,569,568,568,568,567,567,567,566,566,566,566,565,565,565,564,564,564,564,563,563,563,562,562,562,562,561,561,561,560,560,560,559,559,559,559,558,558,558,557,557,557,557,556,556,556,556,555,555,555,554,554,554,554,553,553,553,552,552,552,552,551,551,551,550,550,550,550,549,549,549,549,548,548,548,547,547,547,547,546,546,546,546,545,545,545,544,544,544,544,543,543,543,543,542,542,542,541,541,541,541,540,540,540,540,539,539,539,539,538,538,538,537,537,537,537,536,536,536,536,535,535,535,535,534,534,534,534,533,533,533,532,532,532,532,531,531,531,531,530,530,530,530,529,529,529,529,528,528,528,528,527,527,527,527,526,526,526,526,525,525,525,525,524,524,524,524,523,523,523,523,522,522,522,522,521,521,521,521,520,520,520,520,519,519,519,519,518,518,518,518,517,517,517,517,516,516,516,516,515,515,515,515,514,514,514,514,513,513,513,513,513,512,512,512,512,511,511,511,511,510,510,510,510,509,509,509,509,508,508,508,508,508,507,507,507,507,506,506,506,506,505,505,505,505,504,504,504,504,504,503,503,503,503,502,502,502,502,501,501,501,501,501,500,500,500,500,499,499,499,499,498,498,498,498,498,497,497,497,497,496,496,496,496,496,495,495,495,495,494,494,494,494,494,493,493,493,493,492,492,492,492,492,491,491,491,491,490,490,490,490,490,489,489,489,489,488,488,488,488,488,487,487,487,487,486,486,486,486,486,485,485,485,485,485,484,484,484,484,483,483,483,483,483,482,482,482,482,482,481,481,481,481,480,480,480,480,480,479,479,479,479,479,478,478,478,478,478,477,477,477,477,477,476,476,476,476,475,475,475,475,475,474,474,474,474,474,473,473,473,473,473,472,472,472,472,472,471,471,471,471,471,470,470,470,470,470,469,469,469,469,469,468,468,468,468,468,467,467,467,467,467,466,466,466,466,466,465,465,465,465,465,464,464,464,464,464,463,463,463,463,463,462,462,462,462,462,461,461,461,461,461,460,460,460,460,460,459,459,459,459,459,459,458,458,458,458,458,457,457,457,457,457,456,456,456,456,456,455,455,455,455,455,455,454,454,454,454,454,453,453,453,453,453,452,452,452,452,452,451,451,451,451,451,451,450,450,450,450,450,449,449,449,449,449,449,448,448,448,448,448,447,447,447,447,447,447,446,446,446,446,446,445,445,445,445,445,445,444,444,444,444,444,443,443,443,443,443,443,442,442,442,442,442,441,441,441,441,441,441,440,440,440,440,440,440,439,439,439,439,439,438,438,438,438,438,438,437,437,437,437,437,437,436,436,436,436,436,435,435,435,435,435,435,434,434,434,434,434,434,433,433,433,433,433,433,432,432,432,432,432,432,431,431,431,431,431,430,430,430,430,430,430,429,429,429,429,429,429,428,428,428,428,428,428,427,427,427,427,427,427,426,426,426,426,426,426,425,425,425,425,425,425,424,424,424,424,424,424,423,423,423,423,423,423,423,422,422,422,422,422,422,421,421,421,421,421,421,420,420,420,420,420,420,419,419,419,419,419,419,418,418,418,418,418,418,417,417,417,417,417,417,417,416,416,416,416,416,416,415,415,415,415,415,415,414,414,414,414,414,414,414,413,413,413,413,413,413,412,412,412,412,412,412,412,411,411,411,411,411,411,410,410,410,410,410,410,410,409,409,409,409,409,409,408,408,408,408,408,408,408,407,407,407,407,407,407,406,406,406,406,406,406,406,405,405,405,405,405,405,405,404,404,404,404,404,404,403,403,403,403,403,403,403,402,402,402,402,402,402,402,401,401,401,401,401,401,401,400,400,400,400,400,400,399,399,399,399,399,399,399,398,398,398,398,398,398,398,397,397,397,397,397,397,397,396,396,396,396,396,396,396,395,395,395,395,395,395,395,394,394,394,394,394,394,394,393,393,393,393,393,393,393,392,392,392,392,392,392,392,391,391,391,391,391,391,391,390,390,390,390,390,390,390,390,389,389,389,389,389,389,389,388,388,388,388,388,388,388,387,387,387,387,387,387,387,386,386,386,386,386,386,386,386,385,385,385,385,385,385,385,384,384,384,384,384,384,384,383,383,383,383,383,383,383,383,382,382,382,382,382,382,382,381,381,381,381,381,381,381,381,380,380,380,380,380,380,380,379,379,379,379,379,379,379,379,378,378,378,378,378,378,378,378,377,377,377,377,377,377,377,376,376,376,376,376,376,376,376,375,375,375,375,375,375,375,375,374,374,374,374,374,374,374,374,373,373,373,373,373,373,373,373,372,372,372,372,372,372,372,371,371,371,371,371,371,371,371,370,370,370,370,370,370,370,370,369,369,369,369,369,369,369,369,368,368,368,368,368,368,368,368,367,367,367,367,367,367,367,367,367,366,366,366,366,366,366,366,366,365,365,365,365,365,365,365,365,364,364,364,364,364,364,364,364,363,363,363,363,363,363,363,363,362,362,362,362,362,362,362,362,362,361,361,361,361,361,361,361,361,360,360,360,360,360,360,360,360,360,359,359,359,359,359,359,359,359,358,358,358,358,358,358,358,358,358,357,357,357,357,357,357,357,357,356,356,356,356,356,356,356,356,356,355,355,355,355,355,355,355,355,354,354,354,354,354,354,354,354,354,353,353,353,353,353,353,353,353,353,352,352,352,352,352,352,352,352,352,351,351,351,351,351,351,351,351,351,350,350,350,350,350,350,350,350,350,349,349,349,349,349,349,349,349,348,348,348,348,348,348,348,348,348,347,347,347,347,347,347,347,347,347,347,346,346,346,346,346,346,346,346,346,345,345,345,345,345,345,345,345,345,344,344,344,344,344,344,344,344,344,343,343,343,343,343,343,343,343,343,342,342,342,342,342,342,342,342,342,342,341,341,341,341,341,341,341,341,341,340,340,340,340,340,340,340,340,340,340,339,339,339,339,339,339,339,339,339,338,338,338,338,338,338,338,338,338,338,337,337,337,337,337,337,337,337,337,336,336,336,336,336,336,336,336,336,336,335,335,335,335,335,335,335,335,335,335,334,334,334,334,334,334,334,334,334,333,333,333,333,333,333,333,333,333,333,332,332,332,332,332,332,332,332,332,332,331,331,331,331,331,331,331,331,331,331,330,330,330,330,330,330,330,330,330,330,329,329,329,329,329,329,329,329,329,329,328,328,328,328,328,328,328,328,328,328,327,327,327,327,327,327,327,327,327,327,327,326,326,326,326,326,326,326,326,326,326,325,325,325,325,325,325,325,325,325,325,324,324,324,324,324,324,324,324,324,324,324,323,323,323,323,323,323,323,323,323,323,322,322,322,322,322,322,322,322,322,322,322,321,321,321,321,321,321,321,321,321,321,320,320,320,320,320,320,320,320,320,320,320,319,319,319,319,319,319,319,319,319,319,319,318,318,318,318,318,318,318,318,318,318,317,317,317,317,317,317,317,317,317,317,317,316,316,316,316,316,316,316,316,316,316,316,315,315,315,315,315,315,315,315,315,315,315,314,314,314,314,314,314,314,314,314,314,314,313,313,313,313,313,313,313,313,313,313,313,313,312,312,312,312,312,312,312,312,312,312,312,311,311,311,311,311,311,311,311,311,311,311,310,310,310,310,310,310,310,310,310,310,310,309,309,309,309,309,309,309,309,309,309,309,309,308,308,308,308,308,308,308,308,308,308,308,307,307,307,307,307,307,307,307,307,307,307,307,306,306,306,306,306,306,306,306,306,306,306,306,305,305,305,305,305,305,305,305,305,305,305,304,304,304,304,304,304,304,304,304,304,304,304,303,303,303,303,303,303,303,303,303,303,303,303,302,302,302,302,302,302,302,302,302,302,302,302,301,301,301,301,301,301,301,301,301,301,301,301,300,300,300,300,300,300,300,300,300,300,300,300,299,299,299,299,299,299,299,299,299,299,299,299,298,298,298,298,298,298,298,298,298,298,298,298,298,297,297,297,297,297,297,297,297,297,297,297,297,296,296,296,296,296,296,296,296,296,296,296,296,296,295,295,295,295,295,295,295,295,295,295,295,295,294,294,294,294,294,294,294,294,294,294,294,294,294,293,293,293,293,293,293,293,293,293,293,293,293,293,292,292,292,292,292,292,292,292,292,292,292,292,291,291,291,291,291,291,291,291,291,291,291,291,291,290,290,290,290,290,290,290,290,290,290,290,290,290,289,289,289,289,289,289,289,289,289,289,289,289,289,288,288,288,288,288,288,288,288,288,288,288,288,288,287,287,287,287,287,287,287,287,287,287,287,287,287,287,286,286,286,286,286,286,286,286,286,286,286,286,286,285,285,285,285,285,285,285,285,285,285,285,285,285,285,284,284,284,284,284,284,284,284,284,284,284,284,284,283,283,283,283,283,283,283,283,283,283,283,283,283,283,282,282,282,282,282,282,282,282,282,282,282,282,282,281,281,281,281,281,281,281,281,281,281,281,281,281,281,280,280,280,280,280,280,280,280,280,280,280,280,280,280,279,279,279,279,279,279,279,279,279,279,279,279,279,279,278,278,278,278,278,278,278,278,278,278,278,278,278,278,277,277,277,277,277,277,277,277,277,277,277,277,277,277,277,276,276,276,276,276,276,276,276,276,276,276,276,276,276,275,275,275,275,275,275,275,275,275,275,275,275,275,275,274,274,274,274,274,274,274,274,274,274,274,274,274,274,274,273,273,273,273,273,273,273,273,273,273,273,273,273,273,273,272,272,272,272,272,272,272,272,272,272,272,272,272,272,271,271,271,271,271,271,271,271,271,271,271,271,271,271,271,270,270,270,270,270,270,270,270,270,270,270,270,270,270,270,269,269,269,269,269,269,269,269,269,269,269,269,269,269,269,268,268,268,268,268,268,268,268,268,268,268,268,268,268,268,268,267,267,267,267,267,267,267,267,267,267,267,267,267,267,267,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,265,265,265,265,265,265,265,265,265,265,265,265,265,265,265,265,264,264,264,264,264,264,264,264,264,264,264,264,264,264,264,264,263,263,263,263,263,263,263,263,263,263,263,263,263,263,263,262,262,262,262,262,262,262,262,262,262,262,262,262,262,262,262,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,260,260,260,260,260,260,260,260,260,260,260,260,260,260,260,260,259,259,259,259,259,259,259,259,259,259,259,259,259,259,259,259,259,258,258,258,258,258,258,258,258,258,258,258,258,258,258,258,258,257,257,257,257,257,257,257,257,257,257,257,257,257,257,257,257,257,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,248,248,248,248,248,248,248,248,248,248,248,248,248,248,248,248,248,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,218,218,218,218,218,218,218,218,218,218,218,218
};*/
//最小频率 = 60kHz  跳频 = 244kHz
 // const unsigned int uiFre[]={800,799,799,798,798,797,796,796,795,794,794,793,793,792,791,791,790,790,789,788,788,787,787,786,785,785,784,784,783,782,782,781,781,780,780,779,778,778,777,777,776,775,775,774,774,773,773,772,771,771,770,770,769,769,768,767,767,766,766,765,765,764,763,763,762,762,761,761,760,759,759,758,758,757,757,756,756,755,755,754,753,753,752,752,751,751,750,750,749,749,748,747,747,746,746,745,745,744,744,743,743,742,742,741,740,740,739,739,738,738,737,737,736,736,735,735,734,734,733,733,732,732,731,731,730,730,729,728,728,727,727,726,726,725,725,724,724,723,723,722,722,721,721,720,720,719,719,718,718,717,717,716,716,715,715,714,714,713,713,712,712,711,711,710,710,709,709,709,708,708,707,707,706,706,705,705,704,704,703,703,702,702,701,701,700,700,699,699,698,698,698,697,697,696,696,695,695,694,694,693,693,692,692,691,691,691,690,690,689,689,688,688,687,687,686,686,686,685,685,684,684,683,683,682,682,681,681,681,680,680,679,679,678,678,677,677,677,676,676,675,675,674,674,673,673,673,672,672,671,671,670,670,670,669,669,668,668,667,667,667,666,666,665,665,664,664,664,663,663,662,662,661,661,661,660,660,659,659,658,658,658,657,657,656,656,656,655,655,654,654,653,653,653,652,652,651,651,651,650,650,649,649,649,648,648,647,647,647,646,646,645,645,645,644,644,643,643,643,642,642,641,641,641,640,640,639,639,639,638,638,637,637,637,636,636,635,635,635,634,634,633,633,633,632,632,632,631,631,630,630,630,629,629,628,628,628,627,627,627,626,626,625,625,625,624,624,624,623,623,622,622,622,621,621,621,620,620,619,619,619,618,618,618,617,617,616,616,616,615,615,615,614,614,614,613,613,612,612,612,611,611,611,610,610,610,609,609,609,608,608,607,607,607,606,606,606,605,605,605,604,604,604,603,603,603,602,602,601,601,601,600,600,600,599,599,599,598,598,598,597,597,597,596,596,596,595,595,595,594,594,594,593,593,592,592,592,591,591,591,590,590,590,589,589,589,588,588,588,587,587,587,586,586,586,585,585,585,584,584,584,583,583,583,582,582,582,582,581,581,581,580,580,580,579,579,579,578,578,578,577,577,577,576,576,576,575,575,575,574,574,574,573,573,573,572,572,572,572,571,571,571,570,570,570,569,569,569,568,568,568,567,567,567,567,566,566,566,565,565,565,564,564,564,563,563,563,563,562,562,562,561,561,561,560,560,560,559,559,559,559,558,558,558,557,557,557,556,556,556,556,555,555,555,554,554,554,554,553,553,553,552,552,552,551,551,551,551,550,550,550,549,549,549,549,548,548,548,547,547,547,546,546,546,546,545,545,545,544,544,544,544,543,543,543,542,542,542,542,541,541,541,541,540,540,540,539,539,539,539,538,538,538,537,537,537,537,536,536,536,535,535,535,535,534,534,534,534,533,533,533,532,532,532,532,531,531,531,531,530,530,530,529,529,529,529,528,528,528,528,527,527,527,526,526,526,526,525,525,525,525,524,524,524,524,523,523,523,522,522,522,522,521,521,521,521,520,520,520,520,519,519,519,519,518,518,518,518,517,517,517,516,516,516,516,515,515,515,515,514,514,514,514,513,513,513,513,512,512,512,512,511,511,511,511,510,510,510,510,509,509,509,509,508,508,508,508,507,507,507,507,506,506,506,506,505,505,505,505,504,504,504,504,503,503,503,503,502,502,502,502,501,501,501,501,501,500,500,500,500,499,499,499,499,498,498,498,498,497,497,497,497,496,496,496,496,495,495,495,495,495,494,494,494,494,493,493,493,493,492,492,492,492,491,491,491,491,491,490,490,490,490,489,489,489,489,488,488,488,488,488,487,487,487,487,486,486,486,486,485,485,485,485,485,484,484,484,484,483,483,483,483,483,482,482,482,482,481,481,481,481,481,480,480,480,480,479,479,479,479,479,478,478,478,478,477,477,477,477,477,476,476,476,476,475,475,475,475,475,474,474,474,474,473,473,473,473,473,472,472,472,472,472,471,471,471,471,470,470,470,470,470,469,469,469,469,469,468,468,468,468,467,467,467,467,467,466,466,466,466,466,465,465,465,465,465,464,464,464,464,464,463,463,463,463,462,462,462,462,462,461,461,461,461,461,460,460,460,460,460,459,459,459,459,459,458,458,458,458,458,457,457,457,457,457,456,456,456,456,456,455,455,455,455,455,454,454,454,454,454,453,453,453,453,453,452,452,452,452,452,451,451,451,451,451,450,450,450,450,450,449,449,449,449,449,448,448,448,448,448,447,447,447,447,447,447,446,446,446,446,446,445,445,445,445,445,444,444,444,444,444,443,443,443,443,443,443,442,442,442,442,442,441,441,441,441,441,440,440,440,440,440,439,439,439,439,439,439,438,438,438,438,438,437,437,437,437,437,437,436,436,436,436,436,435,435,435,435,435,435,434,434,434,434,434,433,433,433,433,433,433,432,432,432,432,432,431,431,431,431,431,431,430,430,430,430,430,429,429,429,429,429,429,428,428,428,428,428,428,427,427,427,427,427,426,426,426,426,426,426,425,425,425,425,425,425,424,424,424,424,424,423,423,423,423,423,423,422,422,422,422,422,422,421,421,421,421,421,421,420,420,420,420,420,420,419,419,419,419,419,419,418,418,418,418,418,418,417,417,417,417,417,416,416,416,416,416,416,415,415,415,415,415,415,414,414,414,414,414,414,414,413,413,413,413,413,413,412,412,412,412,412,412,411,411,411,411,411,411,410,410,410,410,410,410,409,409,409,409,409,409,408,408,408,408,408,408,407,407,407,407,407,407,407,406,406,406,406,406,406,405,405,405,405,405,405,404,404,404,404,404,404,404,403,403,403,403,403,403,402,402,402,402,402,402,401,401,401,401,401,401,401,400,400,400,400,400,400,399,399,399,399,399,399,399,398,398,398,398,398,398,397,397,397,397,397,397,397,396,396,396,396,396,396,395,395,395,395,395,395,395,394,394,394,394,394,394,394,393,393,393,393,393,393,392,392,392,392,392,392,392,391,391,391,391,391,391,391,390,390,390,390,390,390,390,389,389,389,389,389,389,389,388,388,388,388,388,388,387,387,387,387,387,387,387,386,386,386,386,386,386,386,385,385,385,385,385,385,385,384,384,384,384,384,384,384,383,383,383,383,383,383,383,382,382,382,382,382,382,382,381,381,381,381,381,381,381,381,380,380,380,380,380,380,380,379,379,379,379,379,379,379,378,378,378,378,378,378,378,377,377,377,377,377,377,377,376,376,376,376,376,376,376,376,375,375,375,375,375,375,375,374,374,374,374,374,374,374,374,373,373,373,373,373,373,373,372,372,372,372,372,372,372,371,371,371,371,371,371,371,371,370,370,370,370,370,370,370,370,369,369,369,369,369,369,369,368,368,368,368,368,368,368,368,367,367,367,367,367,367,367,366,366,366,366,366,366,366,366,365,365,365,365,365,365,365,365,364,364,364,364,364,364,364,364,363,363,363,363,363,363,363,363,362,362,362,362,362,362,362,361,361,361,361,361,361,361,361,360,360,360,360,360,360,360,360,359,359,359,359,359,359,359,359,358,358,358,358,358,358,358,358,358,357,357,357,357,357,357,357,357,356,356,356,356,356,356,356,356,355,355,355,355,355,355,355,355,354,354,354,354,354,354,354,354,353,353,353,353,353,353,353,353,353,352,352,352,352,352,352,352,352,351,351,351,351,351,351,351,351,350,350,350,350,350,350,350,350,350,349,349,349,349,349,349,349,349,348,348,348,348,348,348,348,348,348,347,347,347,347,347,347,347,347,346,346,346,346,346,346,346,346,346,345,345,345,345,345,345,345,345,345,344,344,344,344,344,344,344,344,343,343,343,343,343,343,343,343,343,342,342,342,342,342,342,342,342,342,341,341,341,341,341,341,341,341,341,340,340,340,340,340,340,340,340,340,339,339,339,339,339,339,339,339,339,338,338,338,338,338,338,338,338,338,337,337,337,337,337,337,337,337,337,336,336,336,336,336,336,336,336,336,335,335,335,335,335,335,335,335,335,335,334,334,334,334,334,334,334,334,334,333,333,333,333,333,333,333,333,333,332,332,332,332,332,332,332,332,332,332,331,331,331,331,331,331,331,331,331,330,330,330,330,330,330,330,330,330,329,329,329,329,329,329,329,329,329,329,328,328,328,328,328,328,328,328,328,328,327,327,327,327,327,327,327,327,327,326,326,326,326,326,326,326,326,326,326,325,325,325,325,325,325,325,325,325,325,324,324,324,324,324,324,324,324,324,324,323,323,323,323,323,323,323,323,323,323,322,322,322,322,322,322,322,322,322,322,321,321,321,321,321,321,321,321,321,321,320,320,320,320,320,320,320,320,320,320,319,319,319,319,319,319,319,319,319,319,318,318,318,318,318,318,318,318,318,318,317,317,317,317,317,317,317,317,317,317,316,316,316,316,316,316,316,316,316,316,316,315,315,315,315,315,315,315,315,315,315,314,314,314,314,314,314,314,314,314,314,314,313,313,313,313,313,313,313,313,313,313,312,312,312,312,312,312,312,312,312,312,312,311,311,311,311,311,311,311,311,311,311,311,310,310,310,310,310,310,310,310,310,310,309,309,309,309,309,309,309,309,309,309,309,308,308,308,308,308,308,308,308,308,308,308,307,307,307,307,307,307,307,307,307,307,307,306,306,306,306,306,306,306,306,306,306,306,305,305,305,305,305,305,305,305,305,305,305,304,304,304,304,304,304,304,304,304,304,304,304,303,303,303,303,303,303,303,303,303,303,303,302,302,302,302,302,302,302,302,302,302,302,301,301,301,301,301,301,301,301,301,301,301,301,300,300,300,300,300,300,300,300,300,300,300,299,299,299,299,299,299,299,299,299,299,299,299,298,298,298,298,298,298,298,298,298,298,298,297,297,297,297,297,297,297,297,297,297,297,297,296,296,296,296,296,296,296,296,296,296,296,296,295,295,295,295,295,295,295,295,295,295,295,295,294,294,294,294,294,294,294,294,294,294,294,294,293,293,293,293,293,293,293,293,293,293,293,293,292,292,292,292,292,292,292,292,292,292,292,292,291,291,291,291,291,291,291,291,291,291,291,291,290,290,290,290,290,290,290,290,290,290,290,290,289,289,289,289,289,289,289,289,289,289,289,289,289,288,288,288,288,288,288,288,288,288,288,288,288,287,287,287,287,287,287,287,287,287,287,287,287,287,286,286,286,286,286,286,286,286,286,286,286,286,285,285,285,285,285,285,285,285,285,285,285,285,285,284,284,284,284,284,284,284,284,284,284,284,284,284,283,283,283,283,283,283,283,283,283,283,283,283,283,282,282,282,282,282,282,282,282,282,282,282,282,282,281,281,281,281,281,281,281,281,281,281,281,281,281,280,280,280,280,280,280,280,280,280,280,280,280,280,279,279,279,279,279,279,279,279,279,279,279,279,279,279,278,278,278,278,278,278,278,278,278,278,278,278,278,277,277,277,277,277,277,277,277,277,277,277,277,277,276,276,276,276,276,276,276,276,276,276,276,276,276,276,275,275,275,275,275,275,275,275,275,275,275,275,275,275,274,274,274,274,274,274,274,274,274,274,274,274,274,273,273,273,273,273,273,273,273,273,273,273,273,273,273,272,272,272,272,272,272,272,272,272,272,272,272,272,272,271,271,271,271,271,271,271,271,271,271,271,271,271,271,270,270,270,270,270,270,270,270,270,270,270,270,270,270,270,269,269,269,269,269,269,269,269,269,269,269,269,269,269,268,268,268,268,268,268,268,268,268,268,268,268,268,268,267,267,267,267,267,267,267,267,267,267,267,267,267,267,267,266,266,266,266,266,266,266,266,266,266,266,266,266,266,265,265,265,265,265,265,265,265,265,265,265,265,265,265,265,264,264,264,264,264,264,264,264,264,264,264,264,264,264,264,263,263,263,263,263,263,263,263,263,263,263,263,263,263,263,262,262,262,262,262,262,262,262,262,262,262,262,262,262,262,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,260,260,260,260,260,260,260,260,260,260,260,260,260,260,260,260,259,259,259,259,259,259,259,259,259,259,259,259,259,259,259,258,258,258,258,258,258,258,258,258,258,258,258,258,258,258,258,257,257,257,257,257,257,257,257,257,257,257,257,257,257,257,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,248,248,248,248,248,248,248,248,248,248,248,248,248,248,248,248,248,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192
 // };
//最小频率 = 55kHz  跳频 = 244kHz
 const unsigned short int uiFre[] = {873,872,871,870,870,869,868,867,867,866,865,864,864,863,862,862,861,860,859,859,858,857,856,856,855,854,854,853,852,851,851,850,849,848,848,847,846,846,845,844,844,843,842,841,841,840,839,839,838,837,837,836,835,834,834,833,832,832,831,830,830,829,828,828,827,826,826,825,824,824,823,822,822,821,820,820,819,818,818,817,816,816,815,814,814,813,812,812,811,810,810,809,808,808,807,806,806,805,804,804,803,803,802,801,801,800,799,799,798,797,797,796,796,795,794,794,793,792,792,791,791,790,789,789,788,788,787,786,786,785,784,784,783,783,782,781,781,780,780,779,778,778,777,777,776,775,775,774,774,773,772,772,771,771,770,769,769,768,768,767,767,766,765,765,764,764,763,763,762,761,761,760,760,759,758,758,757,757,756,756,755,755,754,753,753,752,752,751,751,750,749,749,748,748,747,747,746,746,745,744,744,743,743,742,742,741,741,740,740,739,738,738,737,737,736,736,735,735,734,734,733,733,732,732,731,730,730,729,729,728,728,727,727,726,726,725,725,724,724,723,723,722,722,721,721,720,720,719,718,718,717,717,716,716,715,715,714,714,713,713,712,712,711,711,710,710,709,709,708,708,707,707,706,706,705,705,704,704,703,703,702,702,701,701,701,700,700,699,699,698,698,697,697,696,696,695,695,694,694,693,693,692,692,691,691,690,690,690,689,689,688,688,687,687,686,686,685,685,684,684,683,683,682,682,682,681,681,680,680,679,679,678,678,677,677,677,676,676,675,675,674,674,673,673,672,672,672,671,671,670,670,669,669,668,668,668,667,667,666,666,665,665,665,664,664,663,663,662,662,661,661,661,660,660,659,659,658,658,658,657,657,656,656,655,655,655,654,654,653,653,652,652,652,651,651,650,650,650,649,649,648,648,647,647,647,646,646,645,645,645,644,644,643,643,642,642,642,641,641,640,640,640,639,639,638,638,638,637,637,636,636,636,635,635,634,634,634,633,633,632,632,632,631,631,630,630,630,629,629,628,628,628,627,627,627,626,626,625,625,625,624,624,623,623,623,622,622,621,621,621,620,620,620,619,619,618,618,618,617,617,617,616,616,615,615,615,614,614,614,613,613,612,612,612,611,611,611,610,610,609,609,609,608,608,608,607,607,607,606,606,605,605,605,604,604,604,603,603,603,602,602,601,601,601,600,600,600,599,599,599,598,598,598,597,597,596,596,596,595,595,595,594,594,594,593,593,593,592,592,592,591,591,591,590,590,590,589,589,588,588,588,587,587,587,586,586,586,585,585,585,584,584,584,583,583,583,582,582,582,581,581,581,580,580,580,579,579,579,578,578,578,577,577,577,576,576,576,575,575,575,574,574,574,573,573,573,572,572,572,571,571,571,571,570,570,570,569,569,569,568,568,568,567,567,567,566,566,566,565,565,565,564,564,564,563,563,563,563,562,562,562,561,561,561,560,560,560,559,559,559,558,558,558,558,557,557,557,556,556,556,555,555,555,555,554,554,554,553,553,553,552,552,552,551,551,551,551,550,550,550,549,549,549,548,548,548,548,547,547,547,546,546,546,546,545,545,545,544,544,544,543,543,543,543,542,542,542,541,541,541,541,540,540,540,539,539,539,539,538,538,538,537,537,537,537,536,536,536,535,535,535,535,534,534,534,533,533,533,533,532,532,532,531,531,531,531,530,530,530,529,529,529,529,528,528,528,528,527,527,527,526,526,526,526,525,525,525,525,524,524,524,523,523,523,523,522,522,522,522,521,521,521,520,520,520,520,519,519,519,519,518,518,518,518,517,517,517,516,516,516,516,515,515,515,515,514,514,514,514,513,513,513,513,512,512,512,511,511,511,511,510,510,510,510,509,509,509,509,508,508,508,508,507,507,507,507,506,506,506,506,505,505,505,505,504,504,504,504,503,503,503,503,502,502,502,502,501,501,501,501,500,500,500,500,499,499,499,499,498,498,498,498,497,497,497,497,496,496,496,496,495,495,495,495,494,494,494,494,493,493,493,493,492,492,492,492,492,491,491,491,491,490,490,490,490,489,489,489,489,488,488,488,488,487,487,487,487,487,486,486,486,486,485,485,485,485,484,484,484,484,484,483,483,483,483,482,482,482,482,481,481,481,481,481,480,480,480,480,479,479,479,479,478,478,478,478,478,477,477,477,477,476,476,476,476,476,475,475,475,475,474,474,474,474,474,473,473,473,473,472,472,472,472,472,471,471,471,471,470,470,470,470,470,469,469,469,469,468,468,468,468,468,467,467,467,467,467,466,466,466,466,465,465,465,465,465,464,464,464,464,463,463,463,463,463,462,462,462,462,462,461,461,461,461,461,460,460,460,460,459,459,459,459,459,458,458,458,458,458,457,457,457,457,457,456,456,456,456,456,455,455,455,455,455,454,454,454,454,453,453,453,453,453,452,452,452,452,452,451,451,451,451,451,450,450,450,450,450,449,449,449,449,449,448,448,448,448,448,447,447,447,447,447,446,446,446,446,446,445,445,445,445,445,444,444,444,444,444,444,443,443,443,443,443,442,442,442,442,442,441,441,441,441,441,440,440,440,440,440,439,439,439,439,439,439,438,438,438,438,438,437,437,437,437,437,436,436,436,436,436,435,435,435,435,435,435,434,434,434,434,434,433,433,433,433,433,432,432,432,432,432,432,431,431,431,431,431,430,430,430,430,430,430,429,429,429,429,429,428,428,428,428,428,428,427,427,427,427,427,426,426,426,426,426,426,425,425,425,425,425,424,424,424,424,424,424,423,423,423,423,423,423,422,422,422,422,422,421,421,421,421,421,421,420,420,420,420,420,420,419,419,419,419,419,418,418,418,418,418,418,417,417,417,417,417,417,416,416,416,416,416,416,415,415,415,415,415,415,414,414,414,414,414,414,413,413,413,413,413,412,412,412,412,412,412,411,411,411,411,411,411,410,410,410,410,410,410,409,409,409,409,409,409,408,408,408,408,408,408,407,407,407,407,407,407,407,406,406,406,406,406,406,405,405,405,405,405,405,404,404,404,404,404,404,403,403,403,403,403,403,402,402,402,402,402,402,401,401,401,401,401,401,401,400,400,400,400,400,400,399,399,399,399,399,399,398,398,398,398,398,398,398,397,397,397,397,397,397,396,396,396,396,396,396,396,395,395,395,395,395,395,394,394,394,394,394,394,393,393,393,393,393,393,393,392,392,392,392,392,392,392,391,391,391,391,391,391,390,390,390,390,390,390,390,389,389,389,389,389,389,388,388,388,388,388,388,388,387,387,387,387,387,387,387,386,386,386,386,386,386,386,385,385,385,385,385,385,384,384,384,384,384,384,384,383,383,383,383,383,383,383,382,382,382,382,382,382,382,381,381,381,381,381,381,381,380,380,380,380,380,380,380,379,379,379,379,379,379,379,378,378,378,378,378,378,378,377,377,377,377,377,377,377,376,376,376,376,376,376,376,375,375,375,375,375,375,375,374,374,374,374,374,374,374,374,373,373,373,373,373,373,373,372,372,372,372,372,372,372,371,371,371,371,371,371,371,371,370,370,370,370,370,370,370,369,369,369,369,369,369,369,368,368,368,368,368,368,368,368,367,367,367,367,367,367,367,366,366,366,366,366,366,366,366,365,365,365,365,365,365,365,364,364,364,364,364,364,364,364,363,363,363,363,363,363,363,363,362,362,362,362,362,362,362,361,361,361,361,361,361,361,361,360,360,360,360,360,360,360,360,359,359,359,359,359,359,359,359,358,358,358,358,358,358,358,357,357,357,357,357,357,357,357,356,356,356,356,356,356,356,356,355,355,355,355,355,355,355,355,354,354,354,354,354,354,354,354,353,353,353,353,353,353,353,353,352,352,352,352,352,352,352,352,352,351,351,351,351,351,351,351,351,350,350,350,350,350,350,350,350,349,349,349,349,349,349,349,349,348,348,348,348,348,348,348,348,348,347,347,347,347,347,347,347,347,346,346,346,346,346,346,346,346,345,345,345,345,345,345,345,345,345,344,344,344,344,344,344,344,344,343,343,343,343,343,343,343,343,343,342,342,342,342,342,342,342,342,342,341,341,341,341,341,341,341,341,340,340,340,340,340,340,340,340,340,339,339,339,339,339,339,339,339,339,338,338,338,338,338,338,338,338,338,337,337,337,337,337,337,337,337,336,336,336,336,336,336,336,336,336,335,335,335,335,335,335,335,335,335,334,334,334,334,334,334,334,334,334,333,333,333,333,333,333,333,333,333,333,332,332,332,332,332,332,332,332,332,331,331,331,331,331,331,331,331,331,330,330,330,330,330,330,330,330,330,329,329,329,329,329,329,329,329,329,328,328,328,328,328,328,328,328,328,328,327,327,327,327,327,327,327,327,327,326,326,326,326,326,326,326,326,326,326,325,325,325,325,325,325,325,325,325,324,324,324,324,324,324,324,324,324,324,323,323,323,323,323,323,323,323,323,323,322,322,322,322,322,322,322,322,322,321,321,321,321,321,321,321,321,321,321,320,320,320,320,320,320,320,320,320,320,319,319,319,319,319,319,319,319,319,319,318,318,318,318,318,318,318,318,318,318,317,317,317,317,317,317,317,317,317,317,316,316,316,316,316,316,316,316,316,316,315,315,315,315,315,315,315,315,315,315,314,314,314,314,314,314,314,314,314,314,313,313,313,313,313,313,313,313,313,313,313,312,312,312,312,312,312,312,312,312,312,311,311,311,311,311,311,311,311,311,311,310,310,310,310,310,310,310,310,310,310,310,309,309,309,309,309,309,309,309,309,309,308,308,308,308,308,308,308,308,308,308,308,307,307,307,307,307,307,307,307,307,307,307,306,306,306,306,306,306,306,306,306,306,306,305,305,305,305,305,305,305,305,305,305,304,304,304,304,304,304,304,304,304,304,304,303,303,303,303,303,303,303,303,303,303,303,302,302,302,302,302,302,302,302,302,302,302,301,301,301,301,301,301,301,301,301,301,301,300,300,300,300,300,300,300,300,300,300,300,300,299,299,299,299,299,299,299,299,299,299,299,298,298,298,298,298,298,298,298,298,298,298,297,297,297,297,297,297,297,297,297,297,297,297,296,296,296,296,296,296,296,296,296,296,296,295,295,295,295,295,295,295,295,295,295,295,295,294,294,294,294,294,294,294,294,294,294,294,293,293,293,293,293,293,293,293,293,293,293,293,292,292,292,292,292,292,292,292,292,292,292,292,291,291,291,291,291,291,291,291,291,291,291,291,290,290,290,290,290,290,290,290,290,290,290,290,289,289,289,289,289,289,289,289,289,289,289,289,288,288,288,288,288,288,288,288,288,288,288,288,287,287,287,287,287,287,287,287,287,287,287,287,286,286,286,286,286,286,286,286,286,286,286,286,286,285,285,285,285,285,285,285,285,285,285,285,285,284,284,284,284,284,284,284,284,284,284,284,284,284,283,283,283,283,283,283,283,283,283,283,283,283,282,282,282,282,282,282,282,282,282,282,282,282,282,281,281,281,281,281,281,281,281,281,281,281,281,281,280,280,280,280,280,280,280,280,280,280,280,280,280,279,279,279,279,279,279,279,279,279,279,279,279,278,278,278,278,278,278,278,278,278,278,278,278,278,278,277,277,277,277,277,277,277,277,277,277,277,277,277,276,276,276,276,276,276,276,276,276,276,276,276,276,275,275,275,275,275,275,275,275,275,275,275,275,275,274,274,274,274,274,274,274,274,274,274,274,274,274,274,273,273,273,273,273,273,273,273,273,273,273,273,273,272,272,272,272,272,272,272,272,272,272,272,272,272,272,271,271,271,271,271,271,271,271,271,271,271,271,271,271,270,270,270,270,270,270,270,270,270,270,270,270,270,269,269,269,269,269,269,269,269,269,269,269,269,269,269,268,268,268,268,268,268,268,268,268,268,268,268,268,268,267,267,267,267,267,267,267,267,267,267,267,267,267,267,267,266,266,266,266,266,266,266,266,266,266,266,266,266,266,265,265,265,265,265,265,265,265,265,265,265,265,265,265,264,264,264,264,264,264,264,264,264,264,264,264,264,264,264,263,263,263,263,263,263,263,263,263,263,263,263,263,263,262,262,262,262,262,262,262,262,262,262,262,262,262,262,262,261,261,261,261,261,261,261,261,261,261,261,261,261,261,261,260,260,260,260,260,260,260,260,260,260,260,260,260,260,260,259,259,259,259,259,259,259,259,259,259,259,259,259,259,259,258,258,258,258,258,258,258,258,258,258,258,258,258,258,258,257,257,257,257,257,257,257,257,257,257,257,257,257,257,257,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,248,248,248,248,248,248,248,248,248,248,248,248,248,248,248,248,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192
 };
  //最小频率 = 50kHz  跳频 = 244kHz
  //const unsigned int uiFre[]={960,959,958,957,956,955,954,953,953,952,951,950,949,948,947,946,945,944,943,943,942,941,940,939,938,937,936,935,934,934,933,932,931,930,929,928,927,927,926,925,924,923,922,921,920,920,919,918,917,916,915,914,914,913,912,911,910,909,909,908,907,906,905,904,904,903,902,901,900,899,899,898,897,896,895,894,894,893,892,891,890,890,889,888,887,886,886,885,884,883,882,882,881,880,879,878,878,877,876,875,875,874,873,872,871,871,870,869,868,868,867,866,865,865,864,863,862,862,861,860,859,859,858,857,856,856,855,854,853,853,852,851,850,850,849,848,847,847,846,845,845,844,843,842,842,841,840,839,839,838,837,837,836,835,834,834,833,832,832,831,830,830,829,828,827,827,826,825,825,824,823,823,822,821,821,820,819,819,818,817,816,816,815,814,814,813,812,812,811,810,810,809,808,808,807,806,806,805,804,804,803,802,802,801,801,800,799,799,798,797,797,796,795,795,794,793,793,792,791,791,790,790,789,788,788,787,786,786,785,785,784,783,783,782,781,781,780,780,779,778,778,777,776,776,775,775,774,773,773,772,772,771,770,770,769,769,768,767,767,766,766,765,764,764,763,763,762,761,761,760,760,759,759,758,757,757,756,756,755,754,754,753,753,752,752,751,750,750,749,749,748,748,747,746,746,745,745,744,744,743,742,742,741,741,740,740,739,739,738,737,737,736,736,735,735,734,734,733,733,732,731,731,730,730,729,729,728,728,727,727,726,725,725,724,724,723,723,722,722,721,721,720,720,719,719,718,718,717,717,716,715,715,714,714,713,713,712,712,711,711,710,710,709,709,708,708,707,707,706,706,705,705,704,704,703,703,702,702,701,701,700,700,699,699,698,698,697,697,696,696,695,695,694,694,693,693,692,692,691,691,690,690,689,689,688,688,687,687,686,686,686,685,685,684,684,683,683,682,682,681,681,680,680,679,679,678,678,677,677,677,676,676,675,675,674,674,673,673,672,672,671,671,671,670,670,669,669,668,668,667,667,666,666,666,665,665,664,664,663,663,662,662,662,661,661,660,660,659,659,658,658,658,657,657,656,656,655,655,654,654,654,653,653,652,652,651,651,651,650,650,649,649,648,648,648,647,647,646,646,645,645,645,644,644,643,643,643,642,642,641,641,640,640,640,639,639,638,638,638,637,637,636,636,635,635,635,634,634,633,633,633,632,632,631,631,631,630,630,629,629,629,628,628,627,627,627,626,626,625,625,625,624,624,623,623,623,622,622,621,621,621,620,620,619,619,619,618,618,617,617,617,616,616,616,615,615,614,614,614,613,613,612,612,612,611,611,611,610,610,609,609,609,608,608,608,607,607,606,606,606,605,605,605,604,604,603,603,603,602,602,602,601,601,601,600,600,599,599,599,598,598,598,597,597,597,596,596,595,595,595,594,594,594,593,593,593,592,592,591,591,591,590,590,590,589,589,589,588,588,588,587,587,587,586,586,585,585,585,584,584,584,583,583,583,582,582,582,581,581,581,580,580,580,579,579,579,578,578,578,577,577,577,576,576,576,575,575,575,574,574,574,573,573,573,572,572,572,571,571,571,570,570,570,569,569,569,568,568,568,567,567,567,566,566,566,565,565,565,564,564,564,563,563,563,562,562,562,561,561,561,560,560,560,559,559,559,559,558,558,558,557,557,557,556,556,556,555,555,555,554,554,554,554,553,553,553,552,552,552,551,551,551,550,550,550,549,549,549,549,548,548,548,547,547,547,546,546,546,546,545,545,545,544,544,544,543,543,543,543,542,542,542,541,541,541,540,540,540,540,539,539,539,538,538,538,537,537,537,537,536,536,536,535,535,535,535,534,534,534,533,533,533,533,532,532,532,531,531,531,531,530,530,530,529,529,529,529,528,528,528,527,527,527,527,526,526,526,525,525,525,525,524,524,524,523,523,523,523,522,522,522,522,521,521,521,520,520,520,520,519,519,519,518,518,518,518,517,517,517,517,516,516,516,515,515,515,515,514,514,514,514,513,513,513,513,512,512,512,511,511,511,511,510,510,510,510,509,509,509,509,508,508,508,508,507,507,507,506,506,506,506,505,505,505,505,504,504,504,504,503,503,503,503,502,502,502,502,501,501,501,501,500,500,500,500,499,499,499,498,498,498,498,497,497,497,497,496,496,496,496,495,495,495,495,494,494,494,494,493,493,493,493,493,492,492,492,492,491,491,491,491,490,490,490,490,489,489,489,489,488,488,488,488,487,487,487,487,486,486,486,486,485,485,485,485,484,484,484,484,484,483,483,483,483,482,482,482,482,481,481,481,481,480,480,480,480,480,479,479,479,479,478,478,478,478,477,477,477,477,477,476,476,476,476,475,475,475,475,474,474,474,474,474,473,473,473,473,472,472,472,472,471,471,471,471,471,470,470,470,470,469,469,469,469,469,468,468,468,468,467,467,467,467,467,466,466,466,466,465,465,465,465,465,464,464,464,464,463,463,463,463,463,462,462,462,462,462,461,461,461,461,460,460,460,460,460,459,459,459,459,459,458,458,458,458,457,457,457,457,457,456,456,456,456,456,455,455,455,455,454,454,454,454,454,453,453,453,453,453,452,452,452,452,452,451,451,451,451,451,450,450,450,450,449,449,449,449,449,448,448,448,448,448,447,447,447,447,447,446,446,446,446,446,445,445,445,445,445,444,444,444,444,444,443,443,443,443,443,442,442,442,442,442,441,441,441,441,441,440,440,440,440,440,439,439,439,439,439,438,438,438,438,438,437,437,437,437,437,437,436,436,436,436,436,435,435,435,435,435,434,434,434,434,434,433,433,433,433,433,432,432,432,432,432,432,431,431,431,431,431,430,430,430,430,430,429,429,429,429,429,429,428,428,428,428,428,427,427,427,427,427,426,426,426,426,426,426,425,425,425,425,425,424,424,424,424,424,424,423,423,423,423,423,422,422,422,422,422,422,421,421,421,421,421,420,420,420,420,420,420,419,419,419,419,419,418,418,418,418,418,418,417,417,417,417,417,417,416,416,416,416,416,415,415,415,415,415,415,414,414,414,414,414,414,413,413,413,413,413,413,412,412,412,412,412,411,411,411,411,411,411,410,410,410,410,410,410,409,409,409,409,409,409,408,408,408,408,408,408,407,407,407,407,407,407,406,406,406,406,406,406,405,405,405,405,405,405,404,404,404,404,404,404,403,403,403,403,403,403,402,402,402,402,402,402,401,401,401,401,401,401,400,400,400,400,400,400,399,399,399,399,399,399,398,398,398,398,398,398,398,397,397,397,397,397,397,396,396,396,396,396,396,395,395,395,395,395,395,394,394,394,394,394,394,394,393,393,393,393,393,393,392,392,392,392,392,392,391,391,391,391,391,391,391,390,390,390,390,390,390,389,389,389,389,389,389,389,388,388,388,388,388,388,387,387,387,387,387,387,387,386,386,386,386,386,386,386,385,385,385,385,385,385,384,384,384,384,384,384,384,383,383,383,383,383,383,383,382,382,382,382,382,382,381,381,381,381,381,381,381,380,380,380,380,380,380,380,379,379,379,379,379,379,379,378,378,378,378,378,378,378,377,377,377,377,377,377,377,376,376,376,376,376,376,375,375,375,375,375,375,375,374,374,374,374,374,374,374,373,373,373,373,373,373,373,373,372,372,372,372,372,372,372,371,371,371,371,371,371,371,370,370,370,370,370,370,370,369,369,369,369,369,369,369,368,368,368,368,368,368,368,367,367,367,367,367,367,367,367,366,366,366,366,366,366,366,365,365,365,365,365,365,365,364,364,364,364,364,364,364,364,363,363,363,363,363,363,363,362,362,362,362,362,362,362,362,361,361,361,361,361,361,361,360,360,360,360,360,360,360,360,359,359,359,359,359,359,359,359,358,358,358,358,358,358,358,357,357,357,357,357,357,357,357,356,356,356,356,356,356,356,356,355,355,355,355,355,355,355,355,354,354,354,354,354,354,354,353,353,353,353,353,353,353,353,352,352,352,352,352,352,352,352,351,351,351,351,351,351,351,351,350,350,350,350,350,350,350,350,349,349,349,349,349,349,349,349,348,348,348,348,348,348,348,348,347,347,347,347,347,347,347,347,347,346,346,346,346,346,346,346,346,345,345,345,345,345,345,345,345,344,344,344,344,344,344,344,344,343,343,343,343,343,343,343,343,343,342,342,342,342,342,342,342,342,341,341,341,341,341,341,341,341,341,340,340,340,340,340,340,340,340,339,339,339,339,339,339,339,339,339,338,338,338,338,338,338,338,338,337,337,337,337,337,337,337,337,337,336,336,336,336,336,336,336,336,336,335,335,335,335,335,335,335,335,334,334,334,334,334,334,334,334,334,333,333,333,333,333,333,333,333,333,332,332,332,332,332,332,332,332,332,331,331,331,331,331,331,331,331,331,330,330,330,330,330,330,330,330,330,329,329,329,329,329,329,329,329,329,328,328,328,328,328,328,328,328,328,327,327,327,327,327,327,327,327,327,326,326,326,326,326,326,326,326,326,326,325,325,325,325,325,325,325,325,325,324,324,324,324,324,324,324,324,324,323,323,323,323,323,323,323,323,323,323,322,322,322,322,322,322,322,322,322,321,321,321,321,321,321,321,321,321,321,320,320,320,320,320,320,320,320,320,319,319,319,319,319,319,319,319,319,319,318,318,318,318,318,318,318,318,318,318,317,317,317,317,317,317,317,317,317,316,316,316,316,316,316,316,316,316,316,315,315,315,315,315,315,315,315,315,315,314,314,314,314,314,314,314,314,314,314,313,313,313,313,313,313,313,313,313,313,312,312,312,312,312,312,312,312,312,312,311,311,311,311,311,311,311,311,311,311,310,310,310,310,310,310,310,310,310,310,310,309,309,309,309,309,309,309,309,309,309,308,308,308,308,308,308,308,308,308,308,307,307,307,307,307,307,307,307,307,307,307,306,306,306,306,306,306,306,306,306,306,305,305,305,305,305,305,305,305,305,305,305,304,304,304,304,304,304,304,304,304,304,304,303,303,303,303,303,303,303,303,303,303,302,302,302,302,302,302,302,302,302,302,302,301,301,301,301,301,301,301,301,301,301,301,300,300,300,300,300,300,300,300,300,300,300,299,299,299,299,299,299,299,299,299,299,299,298,298,298,298,298,298,298,298,298,298,298,297,297,297,297,297,297,297,297,297,297,297,296,296,296,296,296,296,296,296,296,296,296,295,295,295,295,295,295,295,295,295,295,295,295,294,294,294,294,294,294,294,294,294,294,294,293,293,293,293,293,293,293,293,293,293,293,292,292,292,292,292,292,292,292,292,292,292,292,291,291,291,291,291,291,291,291,291,291,291,290,290,290,290,290,290,290,290,290,290,290,290,289,289,289,289,289,289,289,289,289,289,289,289,288,288,288,288,288,288,288,288,288,288,288,288,287,287,287,287,287,287,287,287,287,287,287,287,286,286,286,286,286,286,286,286,286,286,286,286,285,285,285,285,285,285,285,285,285,285,285,285,284,284,284,284,284,284,284,284,284,284,284,284,283,283,283,283,283,283,283,283,283,283,283,283,282,282,282,282,282,282,282,282,282,282,282,282,282,281,281,281,281,281,281,281,281,281,281,281,281,280,280,280,280,280,280,280,280,280,280,280,280,280,279,279,279,279,279,279,279,279,279,279,279,279,278,278,278,278,278,278,278,278,278,278,278,278,278,277,277,277,277,277,277,277,277,277,277,277,277,277,276,276,276,276,276,276,276,276,276,276,276,276,276,275,275,275,275,275,275,275,275,275,275,275,275,275,274,274,274,274,274,274,274,274,274,274,274,274,274,273,273,273,273,273,273,273,273,273,273,273,273,273,272,272,272,272,272,272,272,272,272,272,272,272,272,271,271,271,271,271,271,271,271,271,271,271,271,271,271,270,270,270,270,270,270,270,270,270,270,270,270,270,269,269,269,269,269,269,269,269,269,269,269,269,269,269,268,268,268,268,268,268,268,268,268,268,268,268,268,267,267,267,267,267,267,267,267,267,267,267,267,267,267,266,266,266,266,266,266,266,266,266,266,266,266,266,266,265,265,265,265,265,265,265,265,265,265,265,265,265,265,264,264,264,264,264,264,264,264,264,264,264,264,264,264,263,263,263,263,263,263,263,263,263,263,263,263,263,263,262,262,262,262,262,262,262,262,262,262,262,262,262,262,262,261,261,261,261,261,261,261,261,261,261,261,261,261,261,260,260,260,260,260,260,260,260,260,260,260,260,260,260,260,259,259,259,259,259,259,259,259,259,259,259,259,259,259,258,258,258,258,258,258,258,258,258,258,258,258,258,258,258,257,257,257,257,257,257,257,257,257,257,257,257,257,257,257,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,248,248,248,248,248,248,248,248,248,248,248,248,248,248,248,248,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192
  //};
 //最小频率 = 40kHz  跳频 = 244kHz
  //const unsigned int uiFre[]={1200,1198,1197,1195,1194,1192,1191,1189,1188,1186,1185,1183,1182,1180,1179,1177,1176,1174,1173,1171,1170,1169,1167,1166,1164,1163,1161,1160,1158,1157,1156,1154,1153,1151,1150,1148,1147,1146,1144,1143,1141,1140,1139,1137,1136,1135,1133,1132,1130,1129,1128,1126,1125,1124,1122,1121,1120,1118,1117,1116,1114,1113,1112,1110,1109,1108,1106,1105,1104,1102,1101,1100,1099,1097,1096,1095,1093,1092,1091,1090,1088,1087,1086,1085,1083,1082,1081,1080,1078,1077,1076,1075,1073,1072,1071,1070,1069,1067,1066,1065,1064,1062,1061,1060,1059,1058,1056,1055,1054,1053,1052,1051,1049,1048,1047,1046,1045,1044,1042,1041,1040,1039,1038,1037,1035,1034,1033,1032,1031,1030,1029,1027,1026,1025,1024,1023,1022,1021,1020,1019,1017,1016,1015,1014,1013,1012,1011,1010,1009,1008,1007,1005,1004,1003,1002,1001,1000,999,998,997,996,995,994,993,992,991,989,988,987,986,985,984,983,982,981,980,979,978,977,976,975,974,973,972,971,970,969,968,967,966,965,964,963,962,961,960,959,958,957,956,955,954,953,952,951,950,949,948,947,946,945,945,944,943,942,941,940,939,938,937,936,935,934,933,932,931,930,930,929,928,927,926,925,924,923,922,921,920,920,919,918,917,916,915,914,913,912,911,911,910,909,908,907,906,905,904,904,903,902,901,900,899,898,897,897,896,895,894,893,892,891,891,890,889,888,887,886,886,885,884,883,882,881,881,880,879,878,877,876,876,875,874,873,872,872,871,870,869,868,868,867,866,865,864,864,863,862,861,860,860,859,858,857,856,856,855,854,853,853,852,851,850,849,849,848,847,846,846,845,844,843,843,842,841,840,840,839,838,837,837,836,835,834,834,833,832,831,831,830,829,828,828,827,826,825,825,824,823,823,822,821,820,820,819,818,818,817,816,815,815,814,813,813,812,811,810,810,809,808,808,807,806,806,805,804,803,803,802,801,801,800,799,799,798,797,797,796,795,795,794,793,793,792,791,791,790,789,789,788,787,787,786,785,785,784,783,783,782,781,781,780,779,779,778,777,777,776,776,775,774,774,773,772,772,771,770,770,769,769,768,767,767,766,765,765,764,764,763,762,762,761,760,760,759,759,758,757,757,756,756,755,754,754,753,752,752,751,751,750,749,749,748,748,747,746,746,745,745,744,744,743,742,742,741,741,740,739,739,738,738,737,737,736,735,735,734,734,733,732,732,731,731,730,730,729,728,728,727,727,726,726,725,725,724,723,723,722,722,721,721,720,720,719,718,718,717,717,716,716,715,715,714,713,713,712,712,711,711,710,710,709,709,708,708,707,706,706,705,705,704,704,703,703,702,702,701,701,700,700,699,699,698,698,697,697,696,695,695,694,694,693,693,692,692,691,691,690,690,689,689,688,688,687,687,686,686,685,685,684,684,683,683,682,682,681,681,680,680,679,679,678,678,677,677,676,676,675,675,674,674,673,673,672,672,672,671,671,670,670,669,669,668,668,667,667,666,666,665,665,664,664,663,663,662,662,662,661,661,660,660,659,659,658,658,657,657,656,656,656,655,655,654,654,653,653,652,652,651,651,651,650,650,649,649,648,648,647,647,646,646,646,645,645,644,644,643,643,642,642,642,641,641,640,640,639,639,639,638,638,637,637,636,636,636,635,635,634,634,633,633,633,632,632,631,631,630,630,630,629,629,628,628,627,627,627,626,626,625,625,624,624,624,623,623,622,622,622,621,621,620,620,620,619,619,618,618,617,617,617,616,616,615,615,615,614,614,613,613,613,612,612,611,611,611,610,610,609,609,609,608,608,607,607,607,606,606,606,605,605,604,604,604,603,603,602,602,602,601,601,600,600,600,599,599,599,598,598,597,597,597,596,596,595,595,595,594,594,594,593,593,592,592,592,591,591,591,590,590,589,589,589,588,588,588,587,587,587,586,586,585,585,585,584,584,584,583,583,583,582,582,581,581,581,580,580,580,579,579,579,578,578,577,577,577,576,576,576,575,575,575,574,574,574,573,573,573,572,572,572,571,571,570,570,570,569,569,569,568,568,568,567,567,567,566,566,566,565,565,565,564,564,564,563,563,563,562,562,562,561,561,561,560,560,560,559,559,559,558,558,558,557,557,557,556,556,556,555,555,555,554,554,554,553,553,553,552,552,552,551,551,551,550,550,550,549,549,549,548,548,548,547,547,547,546,546,546,546,545,545,545,544,544,544,543,543,543,542,542,542,541,541,541,540,540,540,540,539,539,539,538,538,538,537,537,537,536,536,536,536,535,535,535,534,534,534,533,533,533,532,532,532,532,531,531,531,530,530,530,529,529,529,529,528,528,528,527,527,527,527,526,526,526,525,525,525,524,524,524,524,523,523,523,522,522,522,522,521,521,521,520,520,520,519,519,519,519,518,518,518,517,517,517,517,516,516,516,515,515,515,515,514,514,514,514,513,513,513,512,512,512,512,511,511,511,510,510,510,510,509,509,509,508,508,508,508,507,507,507,507,506,506,506,505,505,505,505,504,504,504,504,503,503,503,502,502,502,502,501,501,501,501,500,500,500,500,499,499,499,498,498,498,498,497,497,497,497,496,496,496,496,495,495,495,495,494,494,494,493,493,493,493,492,492,492,492,491,491,491,491,490,490,490,490,489,489,489,489,488,488,488,488,487,487,487,487,486,486,486,486,485,485,485,485,484,484,484,484,483,483,483,483,482,482,482,482,481,481,481,481,480,480,480,480,479,479,479,479,478,478,478,478,477,477,477,477,476,476,476,476,475,475,475,475,474,474,474,474,474,473,473,473,473,472,472,472,472,471,471,471,471,470,470,470,470,469,469,469,469,469,468,468,468,468,467,467,467,467,466,466,466,466,466,465,465,465,465,464,464,464,464,463,463,463,463,463,462,462,462,462,461,461,461,461,460,460,460,460,460,459,459,459,459,458,458,458,458,458,457,457,457,457,456,456,456,456,456,455,455,455,455,454,454,454,454,454,453,453,453,453,452,452,452,452,452,451,451,451,451,451,450,450,450,450,449,449,449,449,449,448,448,448,448,447,447,447,447,447,446,446,446,446,446,445,445,445,445,445,444,444,444,444,443,443,443,443,443,442,442,442,442,442,441,441,441,441,441,440,440,440,440,440,439,439,439,439,438,438,438,438,438,437,437,437,437,437,436,436,436,436,436,435,435,435,435,435,434,434,434,434,434,433,433,433,433,433,432,432,432,432,432,431,431,431,431,431,430,430,430,430,430,429,429,429,429,429,428,428,428,428,428,427,427,427,427,427,426,426,426,426,426,426,425,425,425,425,425,424,424,424,424,424,423,423,423,423,423,422,422,422,422,422,422,421,421,421,421,421,420,420,420,420,420,419,419,419,419,419,418,418,418,418,418,418,417,417,417,417,417,416,416,416,416,416,416,415,415,415,415,415,414,414,414,414,414,413,413,413,413,413,413,412,412,412,412,412,411,411,411,411,411,411,410,410,410,410,410,410,409,409,409,409,409,408,408,408,408,408,408,407,407,407,407,407,406,406,406,406,406,406,405,405,405,405,405,405,404,404,404,404,404,404,403,403,403,403,403,402,402,402,402,402,402,401,401,401,401,401,401,400,400,400,400,400,400,399,399,399,399,399,399,398,398,398,398,398,398,397,397,397,397,397,397,396,396,396,396,396,396,395,395,395,395,395,395,394,394,394,394,394,394,393,393,393,393,393,393,392,392,392,392,392,392,391,391,391,391,391,391,390,390,390,390,390,390,389,389,389,389,389,389,388,388,388,388,388,388,387,387,387,387,387,387,387,386,386,386,386,386,386,385,385,385,385,385,385,384,384,384,384,384,384,384,383,383,383,383,383,383,382,382,382,382,382,382,381,381,381,381,381,381,381,380,380,380,380,380,380,379,379,379,379,379,379,379,378,378,378,378,378,378,377,377,377,377,377,377,377,376,376,376,376,376,376,376,375,375,375,375,375,375,374,374,374,374,374,374,374,373,373,373,373,373,373,373,372,372,372,372,372,372,371,371,371,371,371,371,371,370,370,370,370,370,370,370,369,369,369,369,369,369,369,368,368,368,368,368,368,368,367,367,367,367,367,367,367,366,366,366,366,366,366,366,365,365,365,365,365,365,365,364,364,364,364,364,364,364,363,363,363,363,363,363,363,362,362,362,362,362,362,362,361,361,361,361,361,361,361,360,360,360,360,360,360,360,360,359,359,359,359,359,359,359,358,358,358,358,358,358,358,357,357,357,357,357,357,357,356,356,356,356,356,356,356,356,355,355,355,355,355,355,355,354,354,354,354,354,354,354,354,353,353,353,353,353,353,353,352,352,352,352,352,352,352,352,351,351,351,351,351,351,351,350,350,350,350,350,350,350,350,349,349,349,349,349,349,349,349,348,348,348,348,348,348,348,347,347,347,347,347,347,347,347,346,346,346,346,346,346,346,346,345,345,345,345,345,345,345,345,344,344,344,344,344,344,344,344,343,343,343,343,343,343,343,343,342,342,342,342,342,342,342,342,341,341,341,341,341,341,341,341,340,340,340,340,340,340,340,340,339,339,339,339,339,339,339,339,338,338,338,338,338,338,338,338,337,337,337,337,337,337,337,337,337,336,336,336,336,336,336,336,336,335,335,335,335,335,335,335,335,334,334,334,334,334,334,334,334,334,333,333,333,333,333,333,333,333,332,332,332,332,332,332,332,332,332,331,331,331,331,331,331,331,331,330,330,330,330,330,330,330,330,330,329,329,329,329,329,329,329,329,328,328,328,328,328,328,328,328,328,327,327,327,327,327,327,327,327,327,326,326,326,326,326,326,326,326,326,325,325,325,325,325,325,325,325,324,324,324,324,324,324,324,324,324,323,323,323,323,323,323,323,323,323,322,322,322,322,322,322,322,322,322,321,321,321,321,321,321,321,321,321,320,320,320,320,320,320,320,320,320,320,319,319,319,319,319,319,319,319,319,318,318,318,318,318,318,318,318,318,317,317,317,317,317,317,317,317,317,316,316,316,316,316,316,316,316,316,316,315,315,315,315,315,315,315,315,315,314,314,314,314,314,314,314,314,314,314,313,313,313,313,313,313,313,313,313,312,312,312,312,312,312,312,312,312,312,311,311,311,311,311,311,311,311,311,311,310,310,310,310,310,310,310,310,310,309,309,309,309,309,309,309,309,309,309,308,308,308,308,308,308,308,308,308,308,307,307,307,307,307,307,307,307,307,307,306,306,306,306,306,306,306,306,306,306,305,305,305,305,305,305,305,305,305,305,304,304,304,304,304,304,304,304,304,304,303,303,303,303,303,303,303,303,303,303,302,302,302,302,302,302,302,302,302,302,302,301,301,301,301,301,301,301,301,301,301,300,300,300,300,300,300,300,300,300,300,299,299,299,299,299,299,299,299,299,299,299,298,298,298,298,298,298,298,298,298,298,297,297,297,297,297,297,297,297,297,297,297,296,296,296,296,296,296,296,296,296,296,296,295,295,295,295,295,295,295,295,295,295,294,294,294,294,294,294,294,294,294,294,294,293,293,293,293,293,293,293,293,293,293,293,292,292,292,292,292,292,292,292,292,292,292,291,291,291,291,291,291,291,291,291,291,291,290,290,290,290,290,290,290,290,290,290,290,289,289,289,289,289,289,289,289,289,289,289,288,288,288,288,288,288,288,288,288,288,288,288,287,287,287,287,287,287,287,287,287,287,287,286,286,286,286,286,286,286,286,286,286,286,286,285,285,285,285,285,285,285,285,285,285,285,284,284,284,284,284,284,284,284,284,284,284,284,283,283,283,283,283,283,283,283,283,283,283,282,282,282,282,282,282,282,282,282,282,282,282,281,281,281,281,281,281,281,281,281,281,281,281,280,280,280,280,280,280,280,280,280,280,280,280,279,279,279,279,279,279,279,279,279,279,279,279,278,278,278,278,278,278,278,278,278,278,278,278,277,277,277,277,277,277,277,277,277,277,277,277,276,276,276,276,276,276,276,276,276,276,276,276,276,275,275,275,275,275,275,275,275,275,275,275,275,274,274,274,274,274,274,274,274,274,274,274,274,273,273,273,273,273,273,273,273,273,273,273,273,273,272,272,272,272,272,272,272,272,272,272,272,272,272,271,271,271,271,271,271,271,271,271,271,271,271,270,270,270,270,270,270,270,270,270,270,270,270,270,269,269,269,269,269,269,269,269,269,269,269,269,269,268,268,268,268,268,268,268,268,268,268,268,268,268,267,267,267,267,267,267,267,267,267,267,267,267,267,266,266,266,266,266,266,266,266,266,266,266,266,266,266,265,265,265,265,265,265,265,265,265,265,265,265,265,264,264,264,264,264,264,264,264,264,264,264,264,264,263,263,263,263,263,263,263,263,263,263,263,263,263,263,262,262,262,262,262,262,262,262,262,262,262,262,262,262,261,261,261,261,261,261,261,261,261,261,261,261,261,260,260,260,260,260,260,260,260,260,260,260,260,260,260,259,259,259,259,259,259,259,259,259,259,259,259,259,259,258,258,258,258,258,258,258,258,258,258,258,258,258,258,257,257,257,257,257,257,257,257,257,257,257,257,257,257,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,253,253,253,253,253,253,253,253,253,253,253,253,253,253,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,248,248,248,248,248,248,248,248,248,248,248,248,248,248,248,247,247,247,247,247,247,247,247,247,247,247,247,247,247,247,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,246,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,243,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,241,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,240,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,239,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,238,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,236,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,234,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,233,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,231,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,230,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,229,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,223,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,222,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,220,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,217,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,213,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,210,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,206,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,203,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,201,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,198,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,197,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,196,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,195,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192
  //};
#endif

#if VOL_IN_PROTECT_EN == 1  //
extern volatile unsigned short int    g_uiVolInOverCnt;           //输入过压保护延时
#endif
extern volatile unsigned char         g_ucVinLowFlag;
extern volatile unsigned short int    g_uiTryToRestoreTime;
extern volatile unsigned short int    g_uiRepairingTimer;
extern volatile unsigned char         g_ucRepairing;
extern volatile unsigned short int    g_uiTrigWaitingTime;
 
#ifndef LED_MODULE_OPEN_TEST_EN
  #error "Plese define LED_MODULE_OPEN_TEST_EN!"
#elif LED_MODULE_OPEN_TEST_EN == 1
  extern volatile unsigned short int  g_uiLedModuleOpenTime;					
#endif
/* 电能计量 */
#if ENERGY_TEST_EN == 1
extern volatile unsigned int  g_uiEnergySaveEn;     //
#endif
/** @addtogroup STM32F0_Discovery_Peripheral_Examples
  * @{
  */

/** @addtogroup RCC_Example
  * @{
  */ 

/* Private typedef -----------------------------------------------------------*/
/* Private define ------------------------------------------------------------*/
/* Private macro -------------------------------------------------------------*/
/* Private variables ---------------------------------------------------------*/
/* Private function prototypes -----------------------------------------------*/
/* Private functions ---------------------------------------------------------*/

/******************************************************************************/
/*            Cortex-M0 Processor Exceptions Handlers                         */
/******************************************************************************/

/**
  * @brief  This function handles NMI exception.
  * @param  None
  * @retval None
  */
void NMI_Handler(void)
{
  /* This interrupt is generated when HSE clock fails */

  if (RCC_GetITStatus(RCC_IT_CSS) != RESET)
  {
    /* At this stage: HSE, PLL are disabled (but no change on PLL config) and HSI
       is selected as system clock source */

    /* Enable HSE */
    RCC_HSEConfig(RCC_HSE_ON);

    /* Enable HSE Ready and PLL Ready interrupts */
    RCC_ITConfig(RCC_IT_HSERDY | RCC_IT_PLLRDY, ENABLE);

    /* Clear Clock Security System interrupt pending bit */
    RCC_ClearITPendingBit(RCC_IT_CSS);

    /* Once HSE clock recover, the HSERDY interrupt is generated and in the RCC ISR
       routine the system clock will be reconfigured to its previous state (before
       HSE clock failure) */
  }

}

/**
  * @brief  This function handles Hard Fault exception.
  * @param  None
  * @retval None
  */
void HardFault_Handler(void)
{
  /* Go to infinite loop when Hard Fault exception occurs */
  while (1)
  {

  }
}

/**
  * @brief  This function handles SVCall exception.
  * @param  None
  * @retval None
  */
void SVC_Handler(void)
{
	while(1);
}

/**
  * @brief  This function handles PendSVC exception.
  * @param  None
  * @retval None
  */
void PendSV_Handler(void)
{

}

/**
  * @brief  This function handles SysTick Handler.
  * @param  None
  * @retval None
  */
void SysTick_Handler(void)
{
	//while(1)DS7_TURN;
}

/******************************************************************************/
/*                 STM32F0xx Peripherals Interrupt Handlers                   */
/*  Add here the Interrupt Handler for the used peripheral(s) (PPP), for the  */
/*  available peripheral interrupt handler's name please refer to the startup */
/*  file (startup_stm32f0xx.s).                                            */
/******************************************************************************/

/**
  * @brief  This function handles PPP interrupt request.
  * @param  None
  * @retval None
  */
/*void PPP_IRQHandler(void)
{
}*/

/**
  * @brief  This function handles RCC interrupt request. 
  * @param  None
  * @retval None
  */
	
void RCC_IRQHandler(void)
{
  if(RCC_GetITStatus(RCC_IT_HSERDY) != RESET)
  { 
    /* Clear HSERDY interrupt pending bit */
    RCC_ClearITPendingBit(RCC_IT_HSERDY);

    /* Check if the HSE clock is still available */
    if (RCC_GetFlagStatus(RCC_FLAG_HSERDY) != RESET)
    { 
      /* Enable PLL: once the PLL is ready the PLLRDY interrupt is generated */ 
      RCC_PLLCmd(ENABLE);     
    }
  }

  if(RCC_GetITStatus(RCC_IT_PLLRDY) != RESET)
  { 
    /* Clear PLLRDY interrupt pending bit */
    RCC_ClearITPendingBit(RCC_IT_PLLRDY);

    /* Check if the PLL is still locked */
    if (RCC_GetFlagStatus(RCC_FLAG_PLLRDY) != RESET)
    { 
      /* Select PLL as system clock source */
      RCC_SYSCLKConfig(RCC_SYSCLKSource_PLLCLK);
    }
  }
}

/*******************************************************************************
* Function Name : ADC1_COMP_IRQHandler
* Description   : ADC1、COMP interrupt
* Input         : None.
* Output        : None.
* Return        : None.
*******************************************************************************/
void ADC1_COMP_IRQHandler(void)
{
	/************ 如果系统正常工作，处理PWM输出 ************/
    if (EXTI->PR & EXTI_Line21){  //if(EXTI_GetFlagStatus(EXTI_Line21))
	#if  TRIG == 1
        fg_ucTrig = 1;
	#endif
        EXTI->PR = EXTI_Line21;   //EXTI_ClearFlag(EXTI_Line21);		
	} 
    ADC1->ISR = (uint32_t)ADC_IT_EOSEQ;//ADC_ClearITPendingBit(ADC1, ADC_IT_EOSEQ);   // Clear Pending Bit
   
}
/*******************************************************************************
* Function Name : USART1_IRQHandler
* Description   : USART1 interrupt
* Input         : None.
* Output        : None.
* Return        : None.
*******************************************************************************/
void USART1_IRQHandler(void)
{  
   char Rxdata;
	//DS8_TURN;
    if (USART_GetFlagStatus(USART1, USART_FLAG_RXNE) == SET) //????
    {  
        Rxdata = USART_ReceiveData(USART1);
        if (g_ucFlagReciveDealWith == 0){  
            if (g_ucReciveDelay >= RECIVE_DELAY){  
                g_ucReciveCnt = 0;
                g_ucReciveDelay = 0;
                g_ucReciveData[0] = Rxdata;
            }else{  
                g_ucReciveCnt++;
                if (g_ucReciveCnt<RECIVE_MAX){
                    g_ucReciveData[g_ucReciveCnt] = Rxdata;
                }
            }
        }
        USART_ClearFlag(USART1,USART_FLAG_RXNE);
    }
}

/*******************************************************************************
* Function Name : USART2_IRQHandler
* Description   : USART2 interrupt
* Input         : None.
* Output        : None.
* Return        : None.
*******************************************************************************/
void USART2_IRQHandler(void)
{  
    char Rxdata;
    if (USART_GetFlagStatus(USART2, USART_FLAG_RXNE) == SET) //????
    {  //DS2_TURN;
        Rxdata = USART_ReceiveData(USART2);
		if (g_cUART2ReciveComplete == 0){
			if (fg_ucRxTime > 10){
				fg_ucRxData[0] = Rxdata;
				fg_ucRxTime = 0;
				for(fg_ucRxCounter = 1; fg_ucRxCounter < 8;fg_ucRxCounter++){
					fg_ucRxData[fg_ucRxCounter] = 0;
				}
				fg_ucRxCounter = 0;
			}
			if (fg_ucRxCounter<8){
				fg_ucRxData[fg_ucRxCounter] = Rxdata; 
			}
			fg_ucRxCounter++;
		}
        USART_ClearFlag(USART2,USART_FLAG_RXNE);
    }
}

/*******************************************************************************
* Function Name : EXTI4_15_IRQHandler
* Description   : EXTI4_15 interrupt
* Input         : None.
* Output        : None.
* Return        : None.
*******************************************************************************/
void EXTI2_3_IRQHandler(void)
{   
    if ((EXTI->PR & EXTI_Line2) != (uint32_t)RESET){  //if(EXTI_GetITStatus(EXTI_Line2) != RESET)
        
	    EXTI->PR = EXTI_Line2;//EXTI_ClearITPendingBit(EXTI_Line2);
	}
}

/*******************************************************************************
* Function Name : EXTI4_15_IRQHandler
* Description   : EXTI4_15 interrupt
* Input         : None.
* Output        : None.
* Return        : None.
*******************************************************************************/
void EXTI4_15_IRQHandler(void)
{   /* CF1:测量电压或者电流 */
	if((EXTI->PR & EXTI_Line5) != (uint32_t)RESET){  //if(EXTI_GetITStatus(EXTI_Line5) != RESET)
		//电压或者电流测量
		switch(fg_uc7759VIState){
			case 1: //????,???????
				fg_uiVolCurCC3Cnt = 0;
				fg_uc7759VIState = 2;
				break;
			case 2: //?????,??????????100ms????100ms?
				fg_uiVolCurCC3Cnt++;  
				if(fg_uiVITimeCnt > 100){ //????100ms,??????????
				  fg_uc7759VIState = 5; //????
				}else{ //????100ms,???????????
				  fg_uc7759VIState = 3;
				}
				break;
			case 3:
				fg_uiVolCurCC3Cnt++;
				break;
			case 4:
				fg_uiVolCurCC3Cnt++;  
				fg_uc7759VIState = 5; //????
				break;
		}
		 /* 清除中断标志位 */         
		EXTI->PR = EXTI_Line5;//EXTI_ClearITPendingBit(EXTI_Line5);
	}
}
/*******************************************************************************
* Function Name : TIM1_BRK_UP_TRG_COM_IRQHandler
* Description   : TIM1,BRK_UP_TRG_COM interrupt
* Input         : None.
* Output        : None.
* Return        : None.
*******************************************************************************/
void TIM1_BRK_UP_TRG_COM_IRQHandler(void)
{
  if(TIM_GetITStatus(TIM1, TIM_IT_Update) == SET){  
		TIM_ClearFlag(TIM1, TIM_FLAG_Update);
	}
}
/*******************************************************************************
* Function Name : TIM1_CC_IRQHandler
* Description   : TIM1_CC_IRQHandler interrupt
* Input         : None.
* Output        : None.
* Return        : None.
*******************************************************************************/
void TIM1_CC_IRQHandler(void)
{ 
#ifndef REGULATE_FREQUENCY_MODER
	#error "Please define REGULATE_FREQUENCY_MODER!"
#elif REGULATE_FREQUENCY_MODER == 1
	#if  PWM_TEST == 1   //测试模式，固定频率输出
		if ((TIM1->SR & TIM_IT_CC1) != 0){ //if (TIM_GetITStatus(TIM1, TIM_IT_CC1) == SET) 
			TIM1->ARR = PWM_TEST_PERIOD;
			TIM1->CCR1 = TIM1->ARR>>1;
			TIM1->SR &= ~TIM_FLAG_CC1;//TIM_ClearFlag(TIM1, TIM_FLAG_CC1);
		}
	#elif PWM_TEST == 0  //正常工作模式
		unsigned short int uiFbAdc;
		static unsigned short int s_uiFbAdcPrevious = 4096;
		uiFbAdc =  g_uiADC_ConvertedValue[0];
	//	uiFbAdc = (uiFbAdc + s_uiFbAdcPrevious)>>1;
	//	s_uiFbAdcPrevious = g_uiADC_ConvertedValue[0];
		if ((TIM1->SR & TIM_IT_CC1) != 0) //if (TIM_GetITStatus(TIM1, TIM_IT_CC1) == SET)   
		{   
	  #ifndef PWM_STE_EN
		 #error "Please define PWM_STE_EN!"
	  #elif  PWM_STE_EN == 1  //渐变模式
		 #if DIM_PWM_MODE == 1
			   if (g_uiArrTemp < uiFre[uiFbAdc]){
				   g_uiArrTemp += 1;
			   }else if(g_uiArrTemp > uiFre[uiFbAdc]){
				   g_uiArrTemp -= 1;
			   }
		 #elif DIM_PWM_MODE == 2
			   if (g_uiFqrTemp < uiFbAdc){
				   g_uiFqrTemp += 5;
			   }else if(g_uiFqrTemp > uiFbAdc){
				   g_uiFqrTemp -= 3;
			   }
			   g_uiArrTemp = uiFre[g_uiFqrTemp];
		 #endif
		   TIM1->ARR = g_uiArrTemp;  
		   //跳频
		   if (g_sSysParam.ucLampEn == 1){
				if (g_uiArrTemp < uiFre[3720]){
					PWM_OFF;
				}else if(g_uiArrTemp > uiFre[3718]){
					PWM_ON;              
				}
		   }
	  #elif   PWM_STE_EN == 2 //突变模式
		   TIM1->ARR = uiFre[uiFbAdc];
		   if (g_sSysParam.ucLampEn == 1){
				if (uiFbAdc > 4000){  //跳频
					PWM_OFF;
				}else if(uiFbAdc < 3990){
					PWM_ON;              
				}
			}
	  #else
		  #error "Please define set PWM_STE_EN in correct value!"
	  #endif
			TIM1->CCR1 = TIM1->ARR>>1;
					
			TIM1->SR &= ~TIM_FLAG_CC1;//TIM_ClearFlag(TIM1, TIM_FLAG_CC1);
		}
	#endif
#elif REGULATE_FREQUENCY_MODER == 2
	if ((TIM1->SR & TIM_IT_CC1) != 0){ //if (TIM_GetITStatus(TIM1, TIM_IT_CC1) == SET) 
		TIM1->SR &= ~TIM_FLAG_CC1;//TIM_ClearFlag(TIM1, TIM_FLAG_CC1);
	}
#else
    #error "Please set REGULATE_FREQUENCY_MODER in correct value!"
#endif	
}

/*******************************************************************************
* Function Name : TIM2_IRQHandler
* Description   : TIM2 interrupt
* Input         : None.
* Output        : None.
* Return        : None.
*******************************************************************************/
static unsigned short int s_uiFbAdcPrevious = 4096;
static unsigned short int s_uiFrePrevious = 3800;
void SetFre(void)
{   s_uiFbAdcPrevious = 4095;
	s_uiFrePrevious = uiFre[3900];
}
void TIM2_IRQHandler(void)
{	
	if (TIM_GetITStatus(TIM2, TIM_IT_Update) == SET){  //输入频率过低导致超时
#if REGULATE_FREQUENCY_MODER == 2
	#if  PWM_TEST == 1   //测试模式，固定频率输出
		if (1){ 
			TIM1->ARR = PWM_TEST_PERIOD;
			TIM1->CCR1 = TIM1->ARR>>1;
		}
	#elif PWM_TEST == 0  //正常工作模式
	    #define NN     10
		unsigned short int uiFbAdc;
		static unsigned char s_ucSkipTimer = 0;
		uiFbAdc =  g_uiADC_ConvertedValue[0];
		if (1) //if (TIM_GetITStatus(TIM1, TIM_IT_CC1) == SET)   
		{   
	  #ifndef PWM_STE_EN
		 #error "Please define PWM_STE_EN!"
	  #elif  PWM_STE_EN == 1  //渐变模式
		 #if DIM_PWM_MODE == 1
			   if (g_uiArrTemp < uiFre[uiFbAdc]){
				   g_uiArrTemp += 1;
			   }else if(g_uiArrTemp > uiFre[uiFbAdc]){
				   g_uiArrTemp -= 1;
			   }
		 #elif DIM_PWM_MODE == 2
			   if (g_uiFqrTemp < uiFbAdc){
				   g_uiFqrTemp += 5;
			   }else if(g_uiFqrTemp > uiFbAdc){
				   g_uiFqrTemp -= 3;
			   }
			   g_uiArrTemp = uiFre[g_uiFqrTemp];
		 #endif
		   TIM1->ARR = g_uiArrTemp;  
		   //跳频
		   if (g_sSysParam.ucLampEn == 1){
				if (g_uiArrTemp < uiFre[3720]){
					PWM_OFF;
				}else if(g_uiArrTemp > uiFre[3718]){
					PWM_ON;              
				}
		   }
	  #elif   PWM_STE_EN == 2 //突变模式
		   if (s_uiFrePrevious < uiFre[uiFbAdc]){
			   s_uiFrePrevious += 40;
			   if (s_uiFrePrevious > uiFre[uiFbAdc]){
				   s_uiFrePrevious = uiFre[uiFbAdc];
			   }
		   }else if(s_uiFrePrevious > uiFre[uiFbAdc]){
			   s_uiFrePrevious -= 40;
			   if (s_uiFrePrevious < uiFre[uiFbAdc]){
				   s_uiFrePrevious = uiFre[uiFbAdc];
			   }
		   }
		   TIM1->ARR = s_uiFrePrevious;
		   //TIM1->ARR = uiFre[uiFbAdc];
		   if (++s_ucSkipTimer > NN){
			   s_ucSkipTimer = 0;
		   }
		   if (g_sSysParam.ucLampEn == 1){
				if (uiFbAdc > 4000){  //跳频
					PWM_OFF;
				}
				if (uiFbAdc <= 4000){
					PWM_ON; 			
				}
			}
	  #else
		  #error "Please define set PWM_STE_EN in correct value!"
	  #endif
			TIM1->CCR1 = TIM1->ARR>>1;	
		}
	#endif
#endif
	    TIM_ClearFlag(TIM2, TIM_FLAG_Update); 	
	}
    if (TIM_GetITStatus(TIM2, TIM_IT_CC1) == SET){

        TIM_ClearFlag(TIM2, TIM_FLAG_CC1);
    }
}

/*******************************************************************************
* Function Name : TIM3_IRQHandler
* Description   : TIM3 interrupt
* Input         : None.
* Output        : None.
* Return        : None.
*******************************************************************************/
void TIM3_IRQHandler(void)
{	
    if (TIM_GetITStatus(TIM3, TIM_IT_CC1) == SET)
	{  
	    TIM_ClearFlag(TIM3, TIM_FLAG_CC1);
	}
	if (TIM_GetITStatus(TIM3, TIM_IT_Update) == SET) 
    {   
	    TIM_ClearFlag(TIM3, TIM_FLAG_Update); 	
	}
}
/*******************************************************************************
* Function Name : TIM6_DAC_IRQHandler
* Description   : TIM6 and DAC interrupt, 1ms
* Input         : None.
* Output        : None.
* Return        : None.
*******************************************************************************/
void TIM6_DAC_IRQHandler(void)
{  
	unsigned short int uiTemp;
  static unsigned char  s_ucSendState = 0;
  static unsigned short int s_uiSendDelay = 0;
  static unsigned char  s_ucSendCnt = 0;
  static unsigned char  s_ucClkState = 0;
  static unsigned short int  s_uiSendData;
	static unsigned short int s_uiDelayTimeCnt = 0;
  static unsigned short int s_uiWaitPowerTimeCnt, s_uiWaitVITimeCnt;
#if  TRIG == 1
	static unsigned char s_ucTrigCnt = 0;
#endif
#if    PROTOCOL == GRT_V15
	static unsigned short int  s_uiMinSecCnt = 0;
  static unsigned short int  s_uiSecCnt = 0;
#endif
  if(TIM_GetITStatus(TIM6, TIM_IT_Update) == SET){  
	   /* The PLC communication UART2 */
		if(fg_ucRxTime < 10){
			fg_ucRxTime++;
			if(fg_ucRxTime == 10){ 		
				if((fg_ucRxData[0] == 0x55) && (fg_ucRxData[1] == (unsigned char)0xaa)){
					//接收到输出端发来的电压电流数据
					uiTemp = fg_ucRxData[2] + ((short int)fg_ucRxData[3]<<8);
					if(uiTemp <4096){
					  g_uiCurrentOutAdcValue = uiTemp;
					}
					uiTemp = fg_ucRxData[4] + ((short int)fg_ucRxData[5]<<8);
					if(uiTemp <4096){
					  g_uiVoltageOutAdcValue = uiTemp;
					}
					g_cUART2ReciveComplete = 1;
				}
				fg_ucRxTime++;
		  }
		}
		/* The PLC communication UART1 */
		if(g_ucReciveDelay < RECIVE_DELAY){  
      g_ucReciveDelay++;
			if(g_ucReciveDelay == RECIVE_DELAY){
				g_ucFlagReciveDealWith = 1;
			}
		}
		 /* FAULT_DELAY */
		if(g_uiFaultDelay < FAULT_DELAY){
			g_uiFaultDelay++;
		}
   /* display delay */
		if (g_uiDelayCnt < DEALY_CNT){
				g_uiDelayCnt++;
		}
 /* MCP41010 Send Data */
		if(g_ucMCP41010SendEn == 1){
			switch(s_ucSendState){
				case 0:
					if(++s_uiSendDelay < SCK_LOW_TIME){
							SCK_LOW;
					}else{
							s_uiSendDelay = 0;
							s_ucSendCnt = 0;
							s_ucClkState = 0;
							s_ucSendState = 1;
							s_uiSendData = 0x1300 | g_ucMCP41010SendData;
					}
					break;
				case 1:
					if(s_ucSendCnt < 16){
						if(s_ucClkState == 0){
							SCK_LOW;
							if (s_uiSendData & 0x8000){
									SI_HIGH;
							}else{
									SI_LOW;
							}
							s_uiSendData <<= 1;
							s_ucClkState = 1;
						}else{
							s_ucClkState = 0;
							SCK_HIGH;
							s_ucSendCnt++;
						}
					}else{
						SI_LOW;
						s_ucSendState = 2;  
					}
					break;
				case 2:
					if(++s_uiSendDelay < SCK_LOW_TIME){
						SCK_HIGH;
					}else{
						s_ucSendState = 0;
						s_uiSendDelay = 0;
						g_ucMCP41010SendEn = 0;
					}
					break;
				default:break;
			}
		}
 /*  */
		if(g_uiDimInterval < DIM_INTERVAL){
			g_uiDimInterval++;
		}
 /*  */
		if(g_uiUnderVolRestartDelay < UNDER_VOL_RESART_TIME){
			g_uiUnderVolRestartDelay++;
		}
 /*  */
		if(g_uiReduceCnt < REDUCE_TIME){
			g_uiReduceCnt++;
		}
 /* 上电启动降额程序延时 */
		if(g_uiReduceDelayCnt < REDUCE_START_DELAY_TIM){
			g_uiReduceDelayCnt++;
		}
 /* 温度和电压ADC采样周期 */
		if(g_ucAdcCnt < ADC_TIME){
			g_ucAdcCnt++;
		}
 /* 程序运行指示灯延时 */
		if(g_uiRunCnt < RUN_DELAY){
			g_uiRunCnt++;
		}
#if  PARM_REPAIR_EN == 1 && SEECRET_EN == 1
	 /* 无license运行时间 */
		if (g_uiDelayTime < NO_LICENSE_TIME){
			g_uiDelayTime++;
	    }
#endif
     /* 定时 */
#if    PROTOCOL == GRT_V15
		if (++s_uiMinSecCnt >= 1000){
			s_uiMinSecCnt = 0;
			if (++s_uiSecCnt >= 3600){
				s_uiSecCnt = 0;
				g_ulRunTime++;
				g_ucRunTimeUpdata = 1;
		    }
			
	    }
#endif
     /*  */
   #if VOL_OUT_OVER_PROTECT_EN == 1
        if (g_uiVolOutOverProtectDelayCnt < VOL_OUT_OVER_PROTECCT_DELAY){
            g_uiVolOutOverProtectDelayCnt++;
        }
     #endif 
	 #if VOL_IN_PROTECT_EN == 1
		if (g_uiVolInOverCnt < VOL_IN_OVER_CNT){
			g_uiVolInOverCnt++;
	    }
	 #endif
	 #if  TRIG == 1
		if (fg_uiTrigTime < TRIG_TIME){
			fg_uiTrigTime++;
	    }
		switch(s_ucTrigCnt){
			case 0x00:
				if (fg_ucTrig == 1){
					fg_uiTrigTime = 0;
					s_ucTrigCnt = 0x01;
					fg_ucTrig = 0;
				}
				break;
			case 0x01:
				if (fg_uiTrigTime >= TRIG_TIME){
					fg_uiTrigTime = 0;
					s_ucTrigCnt = 0x02;
					fg_ucTrig = 0;
				}
				break;
			case 0x02:
				if (fg_uiTrigTime < TRIG_TIME){
					if (fg_ucTrig == 1){
						fg_uiTrigTime = 0;
						s_ucTrigCnt = 0x03;
					}
				}else{
					s_ucTrigCnt = 0;
				}
				break;
			case 0x03: //异常需要关机
				if (g_sSysParam.ucLampEn == 1){
					#ifndef REF_ADJUST_MODE
					     #error "Please define REF_ADJUST_MODE!"
					#elif REF_ADJUST_MODE == 1
					     SetPwmHalf();
					#elif REF_ADJUST_MODE == 2
					     InitPiParm();
					#endif
					s_ucTrigCnt = 0x00;
			    }else{
					s_ucTrigCnt = 0x00;	
                }					
				break;
			default:
				s_ucTrigCnt = 0x00;	
				break;
		}
		#if  TRIG == 1
           g_ucTrigCnt = s_ucTrigCnt;
        #endif
	 #endif
     /* Break Time */
	 /* 主循环周期控制 */
		g_ucMainCycle = 1;
		/* 短路或者开路保护使用 */
		if(g_uiTryToRestoreTime < RESTORT_TIME){
		  g_uiTryToRestoreTime++;
		}
		/* 测试时间定时 */
		if(g_uiRepairingTimer < 65000){ //定时65000ms = 65s
			g_uiRepairingTimer++;
			if(g_uiRepairingTimer == 65000){
			  g_ucRepairing = 0;
			}
		}
		/**/
		if(g_uiTrigWaitingTime < TRIG_WAIT_TIME){
		  g_uiTrigWaitingTime++;
		}
#if LED_MODULE_OPEN_TEST_EN == 1
	/* LED模组开路检测周期 */
		if(g_uiLedModuleOpenTime < LED_MODULE_TIME){
			g_uiLedModuleOpenTime++;	
		}		
#endif
//////////////输入电参数测量////////////////////
    //功率测量
    if((g_ucCSE7759Flag & POWER_BIT) == 0){
      switch(fg_uc7759PowerState){
        case 0:   
          fg_uiPowerTimeCnt = 0;
          s_uiWaitPowerTimeCnt = 0;
          fg_uc7759PowerState = 1; //等待脉冲边沿
          break;
        case 2://计时器计时
        case 3:
          fg_uiPowerTimeCnt++;
          if (fg_uiPowerTimeCnt >= 1000){
            fg_uc7759PowerState = 4;
          }
          break;
        case 4://计时超过1s或者进入测量单周期模式，继续计时
          fg_uiPowerTimeCnt++;
        case 1:
          s_uiWaitPowerTimeCnt++;
          if (s_uiWaitPowerTimeCnt > 6000){ //整个测量过程必须在6s内完成，否者强制结
              fg_uc7759PowerState = 5;
              fg_uiPowerCC4Cnt = 1;
              fg_uiPowerTimeCnt = 6000;
          }
          break;
        case 5://计时结束，计算周期
          g_uiPowerTime = fg_uiPowerTimeCnt;
          g_uiPowerCnt = fg_uiPowerCC4Cnt;
          g_ucCSE7759Flag |= POWER_BIT;
          fg_uc7759PowerState = 0; 
          break;
        default:
          break;
      }
    }
    //电压或者电流测量
    if((g_ucCSE7759Flag & (VOL_BIT | CUR_BIT)) == 0){
      switch(fg_uc7759VIState){
        case 0:
          fg_uiVITimeCnt = 0;
          s_uiWaitVITimeCnt = 0;
          fg_uc7759VIState = 1; //等待脉冲边沿
          break;
        case 2://计时器计时
        case 3:
          fg_uiVITimeCnt++;
          if(fg_uiVITimeCnt >= 1000){
            fg_uc7759VIState = 4;
          }
          break;
        case 4://计时超过1s或者进入测量单周期模式，继续计时
          fg_uiVITimeCnt++;
        case 1:
          s_uiWaitVITimeCnt++;
          if (s_uiWaitVITimeCnt > 6000){ //整个测量过程必须在6s内完成，否者强制结束
              fg_uc7759VIState = 5;
              fg_uiVolCurCC3Cnt = 1;
              fg_uiVITimeCnt = 6000;
          }
          break;
        case 5://计时结束，计算周期
          if(SEL_VOLTAGE_ASK){  //电压档
            g_uiVoltageTime  = fg_uiVITimeCnt;//(unsigned long)fg_uiVITimeCnt * 1000 / fg_uiVolCurCC3Cnt;
            g_uiVoltageCnt = fg_uiVolCurCC3Cnt;
            g_ucCSE7759Flag |= VOL_BIT;
            SEL_CF1_CURRENT;//切换到电流档
          }else{//电流档
            g_uiCurrentTime = fg_uiVITimeCnt;//(unsigned long)fg_uiVITimeCnt * 1000 / fg_uiVolCurCC3Cnt;
            g_uiCurrentCnt = fg_uiVolCurCC3Cnt;
            g_ucCSE7759Flag |= CUR_BIT;
            SEL_CF1_VOLTAGE;//切换到电压档
          }
          s_uiDelayTimeCnt = 0;
          fg_uc7759VIState = 6;
          break;
        case 6: //切换通道延时
          if(s_uiDelayTimeCnt < DELAY_MAX_TIME){
             s_uiDelayTimeCnt++;
          }else{
             fg_uc7759VIState = 0;
          }
          break;
        default:
          break;
      } 
    }
	 /* 清除中断 */
		TIM_ClearFlag(TIM6, TIM_FLAG_Update);
	}
}
/*******************************************************************************
* Function Name : TIM15_IRQHandler
* Description   : TIM15 定时器数据溢出中断，调整PWM频率
* Input         : None.
* Output        : None.
* Return        : None.
*******************************************************************************/
void TIM15_IRQHandler(void)
{	
	if (TIM_GetITStatus(TIM15, TIM_IT_CC1) == SET){
		/* CF:测量有功功率 */LED_TURN;
         /* 测量功率 */
		switch(fg_uc7759PowerState){
			case 1: //????,???????
			  fg_uiPowerCC4Cnt = 0;
			  fg_uc7759PowerState = 2;
			  break;
			case 2: //?????,??????????100ms????100ms?
			  fg_uiPowerCC4Cnt++;  
			  if (fg_uiPowerTimeCnt > 100){ //????100ms,??????????
				fg_uc7759PowerState = 5; //????
			  }else{ //????100ms,???????????
				fg_uc7759PowerState = 3;
			  }
			  break;
			case 3:
			  fg_uiPowerCC4Cnt++;
			  break;
			case 4:
			  fg_uiPowerCC4Cnt++;  
			  fg_uc7759PowerState = 5; //????
			  break;
		}
		// 清中断标志位
		TIM_ClearFlag(TIM15, TIM_FLAG_CC1); 	
	}
	if (TIM_GetITStatus(TIM15, TIM_IT_Update) == SET){
	#if ENERGY_TEST_EN == 1
		g_uiEnergySaveEn++;     //
	#endif
		// 清中断
		TIM_ClearITPendingBit(TIM15, TIM_FLAG_Update);
		// 清中断标志位
		TIM_ClearFlag(TIM15, TIM_FLAG_Update); 	
	}
}

/*******************************************************************************
* Function Name : FrqInit
* Description   : 初始化PWM输出频率初始值
* Input         : None.
* Output        : None.
* Return        : None.
*******************************************************************************/
void FrqInit(void)
{
#if    PWM_STE_EN == 1
    g_uiArrTemp = TIM1_PERIOD_SHORT;
#endif
}
/************************ (C) COPYRIGHT STMicroelectronics *****END OF FILE****/
